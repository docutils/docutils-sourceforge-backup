head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2002.03.16.05.29.07;	author goodger;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.01.17.00.10;	author goodger;	state Exp;
branches;
next	;


desc
@@


1.2
log
@updated
@
text
@#! /usr/bin/env python

"""
:Author: David Goodger
:Contact: goodger@@users.sourceforge.net
:Revision: $Revision: 1.1 $
:Date: $Date: 2001/09/01 17:00:10 $
:Copyright: This module has been placed in the public domain.

Tests for states.py.
"""

import unittest
from RSTTestSupport import states


class FuctionTests(unittest.TestCase):

    escaped = r'escapes: \*one, \\*two, \\\*three'
    nulled = 'escapes: \x00*one, \x00\\*two, \x00\\\x00*three'
    unescaped = r'escapes: *one, \*two, \*three'

    def test_escape2null(self):
        nulled = states.escape2null(self.escaped)
        self.assertEquals(nulled, self.nulled)
        nulled = states.escape2null(self.escaped + '\\')
        self.assertEquals(nulled, self.nulled + '\x00')

    def test_unescape(self):
        unescaped = states.unescape(self.nulled)
        self.assertEquals(unescaped, self.unescaped)
        restored = states.unescape(self.nulled, 1)
        self.assertEquals(restored, self.escaped)


if __name__ == '__main__':
    unittest.main()
@


1.1
log
@Refactored from the monolithic restructuredtext/test_states.py, using the Garth Kidd's framework. Thanks Garth!
@
text
@d6 2
a7 2
:Revision: $Revision$
:Date: $Date$
a21 3
    names = [('a', 'a'), ('A', 'a'), ('A a A', 'a a a'),
             ('A  a  A  a', 'a a a a'),
             ('  AaA\n\r\naAa\tAaA\t\t', 'aaa aaa aaa')]
a33 5

    def test_normname(self):
        for input, output in self.names:
            normed = states.normname(input)
            self.assertEquals(normed, output)
@


head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2002.03.16.05.28.21;	author goodger;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.07.04.12.20;	author richard;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.07.03.45.42;	author goodger;	state Exp;
branches;
next	;


desc
@@


1.3
log
@updated
@
text
@#! /usr/bin/env python

"""
:Author: David Goodger
:Contact: goodger@@users.sourceforge.net
:Revision: $Revision: 1.2 $
:Date: $Date: 2002/03/07 04:12:20 $
:Copyright: This module has been placed in the public domain.

Tests for states.py.
"""

import RSTTestSupport

def suite():
    s = RSTTestSupport.ParserTestSuite()
    s.generateTests(totest)
    return s

totest = {}

totest['citations'] = [
["""\
.. [citation] This is a citation.
""",
"""\
<document>
    <citation id="citation" name="citation">
        <label>
            citation
        <paragraph>
            This is a citation.
"""],
["""\
.. [citation1234] This is a citation with year.
""",
"""\
<document>
    <citation id="citation1234" name="citation1234">
        <label>
            citation1234
        <paragraph>
            This is a citation with year.
"""],
["""\
.. [citation] This is a citation
   on multiple lines.
""",
"""\
<document>
    <citation id="citation" name="citation">
        <label>
            citation
        <paragraph>
            This is a citation
            on multiple lines.
"""],
["""\
.. [citation1] This is a citation
     on multiple lines with more space.

.. [citation2] This is a citation
  on multiple lines with less space.
""",
"""\
<document>
    <citation id="citation1" name="citation1">
        <label>
            citation1
        <paragraph>
            This is a citation
            on multiple lines with more space.
    <citation id="citation2" name="citation2">
        <label>
            citation2
        <paragraph>
            This is a citation
            on multiple lines with less space.
"""],
["""\
.. [citation]
   This is a citation on multiple lines
   whose block starts on line 2.
""",
"""\
<document>
    <citation id="citation" name="citation">
        <label>
            citation
        <paragraph>
            This is a citation on multiple lines
            whose block starts on line 2.
"""],
["""\
.. [citation]

That was an empty citation.
""",
"""\
<document>
    <citation id="citation" name="citation">
        <label>
            citation
    <paragraph>
        That was an empty citation.
"""],
["""\
.. [citation]
No blank line.
""",
"""\
<document>
    <citation id="citation" name="citation">
        <label>
            citation
    <system_message level="2" type="WARNING">
        <paragraph>
            Unindent without blank line at line 2.
    <paragraph>
        No blank line.
"""],
["""\
.. [citation label with spaces] this isn't a citation

.. [*citationlabelwithmarkup*] this isn't a citation
""",
"""\
<document>
    <comment>
        [citation label with spaces] this isn't a citation
    <comment>
        [*citationlabelwithmarkup*] this isn't a citation
"""],
]


if __name__ == '__main__':
    import unittest
    unittest.main(defaultTest='suite')
@


1.2
log
@Just wanted to make sure that the citation support handled citation refs
with numbers in them too :)
@
text
@d6 2
a7 2
:Revision: $Revision: 1.1 $
:Date: $Date: 2002/03/07 03:45:42 $
d28 1
a28 1
    <citation id="id1" name="citation">
d39 1
a39 1
    <citation id="id1" name="citation1234">
d51 1
a51 1
    <citation id="id1" name="citation">
d67 1
a67 1
    <citation id="id1" name="citation1">
d73 1
a73 1
    <citation id="id2" name="citation2">
d87 1
a87 1
    <citation id="id1" name="citation">
d101 1
a101 1
    <citation id="id1" name="citation">
d113 1
a113 1
    <citation id="id1" name="citation">
@


1.1
log
@*** empty log message ***
@
text
@d6 2
a7 2
:Revision: $Revision$
:Date: $Date$
d33 11
@


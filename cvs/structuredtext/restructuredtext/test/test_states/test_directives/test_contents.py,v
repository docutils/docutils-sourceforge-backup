head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2002.04.13.16.27.30;	author goodger;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.16.05.29.09;	author goodger;	state Exp;
branches;
next	;


desc
@@


1.2
log
@updated
@
text
@#! /usr/bin/env python

"""
:Author: David Goodger
:Contact: goodger@@users.sourceforge.net
:Revision: $Revision: 1.1 $
:Date: $Date: 2002/03/16 05:29:09 $
:Copyright: This module has been placed in the public domain.

Tests for components.py contents directives.
"""

import RSTTestSupport

def suite():
    s = RSTTestSupport.ParserTestSuite()
    s.generateTests(totest)
    return s

totest = {}

totest['contents'] = [
["""\
.. contents::
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               title: None
"""],
["""\
.. contents:: Table of Contents
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               title:
                 <title>
                     Table of Contents
"""],
["""\
.. contents::
   Table of Contents
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               title:
                 <title>
                     Table of Contents
"""],
["""\
.. contents:: Table
   of
   Contents
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               title:
                 <title>
                     Table of Contents
"""],
["""\
.. contents:: *Table* of ``Contents``
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               title:
                 <title>
                     <emphasis>
                         Table
                      of 
                     <literal>
                         Contents
"""],
["""\
.. contents::
   :depth: 2
   :local:
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               depth: 2
               local: None
               title: None
"""],
["""\
.. contents:: Table of Contents
   :local:
   :depth: 2
""",
"""\
<document>
    <pending>
        .. internal attributes:
             .transform: dps.transforms.components.Contents
             .stage: 'last_reader'
             .details:
               depth: 2
               local: None
               title:
                 <title>
                     Table of Contents
"""],
["""\
.. contents::
   :depth: two
""",
"""\
<document>
    <system_message level="3" type="ERROR">
        <paragraph>
            Error in "contents" directive attributes at line 1:
            invalid attribute value:
            (attribute "depth", value "'two'") invalid literal for int(): two.
        <literal_block>
            .. contents::
               :depth: two
"""],
["""\
.. contents::
   :width: 2
""",
"""\
<document>
    <system_message level="3" type="ERROR">
        <paragraph>
            Error in "contents" directive attributes at line 1:
            unknown attribute: "width".
        <literal_block>
            .. contents::
               :width: 2
"""],
]


if __name__ == '__main__':
    import unittest
    unittest.main(defaultTest='suite')
@


1.1
log
@ToC tests
@
text
@d6 2
a7 2
:Revision: $Revision: 1.2 $
:Date: $Date: 2002/03/13 02:30:16 $
d30 3
a32 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d42 3
a44 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d57 3
a59 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d73 3
a75 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d87 3
a89 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d107 3
a109 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
d123 3
a125 3
             pending.transform: dps.transforms.components.Contents
             pending.stage: 'last_reader'
             pending.details:
@


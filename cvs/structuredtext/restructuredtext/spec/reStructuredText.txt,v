head	1.47;
access;
symbols
	RELEASE:1.1.1.1
	Rrefactor-test:1.1.1.1.0.4
	rel-0-3:1.1.1.1.0.2
	open:1.1.1;
locks; strict;
comment	@# @;


1.47
date	2002.04.18.02.43.13;	author goodger;	state Exp;
branches;
next	1.46;

1.46
date	2002.04.13.16.42.47;	author goodger;	state Exp;
branches;
next	1.45;

1.45
date	2002.03.28.04.28.03;	author goodger;	state Exp;
branches;
next	1.44;

1.44
date	2002.03.16.05.35.29;	author goodger;	state Exp;
branches;
next	1.43;

1.43
date	2002.03.13.02.35.15;	author goodger;	state Exp;
branches;
next	1.42;

1.42
date	2002.03.08.04.20.41;	author goodger;	state Exp;
branches;
next	1.41;

1.41
date	2002.03.07.03.37.41;	author goodger;	state Exp;
branches;
next	1.40;

1.40
date	2002.03.04.04.37.18;	author goodger;	state Exp;
branches;
next	1.39;

1.39
date	2002.03.01.03.01.30;	author goodger;	state Exp;
branches;
next	1.38;

1.38
date	2002.02.22.01.41.20;	author goodger;	state Exp;
branches;
next	1.37;

1.37
date	2002.02.21.03.35.10;	author goodger;	state Exp;
branches;
next	1.36;

1.36
date	2002.02.20.04.22.55;	author goodger;	state Exp;
branches;
next	1.35;

1.35
date	2002.02.12.02.24.53;	author goodger;	state Exp;
branches;
next	1.34;

1.34
date	2002.02.07.01.53.41;	author goodger;	state Exp;
branches;
next	1.33;

1.33
date	2002.02.06.02.21.05;	author goodger;	state Exp;
branches;
next	1.32;

1.32
date	2002.01.16.06.20.40;	author goodger;	state Exp;
branches;
next	1.31;

1.31
date	2002.01.08.02.44.09;	author goodger;	state Exp;
branches;
next	1.30;

1.30
date	2001.11.22.04.21.02;	author goodger;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.19.04.18.41;	author goodger;	state Exp;
branches;
next	1.28;

1.28
date	2001.11.13.03.13.53;	author goodger;	state Exp;
branches;
next	1.27;

1.27
date	2001.11.09.23.15.39;	author goodger;	state Exp;
branches;
next	1.26;

1.26
date	2001.11.08.02.41.48;	author goodger;	state Exp;
branches;
next	1.25;

1.25
date	2001.11.06.00.48.50;	author goodger;	state Exp;
branches;
next	1.24;

1.24
date	2001.11.01.04.08.29;	author goodger;	state Exp;
branches;
next	1.23;

1.23
date	2001.10.31.05.50.41;	author goodger;	state Exp;
branches;
next	1.22;

1.22
date	2001.10.27.05.27.26;	author goodger;	state Exp;
branches;
next	1.21;

1.21
date	2001.10.20.02.43.47;	author goodger;	state Exp;
branches;
next	1.20;

1.20
date	2001.10.18.03.48.34;	author goodger;	state Exp;
branches;
next	1.19;

1.19
date	2001.09.28.04.59.27;	author goodger;	state Exp;
branches;
next	1.18;

1.18
date	2001.09.26.03.37.26;	author goodger;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.18.04.42.00;	author goodger;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.13.03.39.51;	author goodger;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.01.15.48.19;	author goodger;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.25.02.20.27;	author goodger;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.23.04.10.15;	author goodger;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.22.03.50.27;	author goodger;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.17.02.16.21;	author goodger;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.16.02.34.18;	author goodger;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.15.03.01.55;	author goodger;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.11.23.20.05;	author goodger;	state Exp;
branches;
next	1.7;

1.7
date	2001.08.11.02.10.07;	author goodger;	state Exp;
branches;
next	1.6;

1.6
date	2001.08.06.04.49.18;	author goodger;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.04.15.23.48;	author goodger;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.01.02.51.46;	author goodger;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.29.16.09.11;	author goodger;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.29.16.00.31;	author goodger;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.21.22.14.24;	author goodger;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.07.21.22.14.24;	author goodger;	state Exp;
branches;
next	;


desc
@@


1.47
log
@Fixed whitespace & updated
@
text
@=======================================
 reStructuredText Markup Specification
=======================================
:Author: David Goodger
:Contact: goodger@@users.sourceforge.net
:Revision: $Revision: 1.46 $
:Date: $Date: 2002/04/13 16:42:47 $

reStructuredText_ is plain text that uses simple and intuitive
constructs to indicate the structure of a document.  These constructs
are equally easy to read in raw and processed forms.  This document is
itself an example of reStructuredText (raw, if you are reading the
text file, or processed, if you are reading an HTML document, for
example).  reStructuredText is a candidate markup syntax for the
`Python Docstring Processing System`_.

Simple, implicit markup is used to indicate special constructs, such
as section headings, bullet lists, and emphasis.  The markup used is
as minimal and unobtrusive as possible.  Less often-used constructs
and extensions to the basic reStructuredText syntax may have more
elaborate or explicit markup.

reStructuredText is applicable to documents of any length, from the
very small (such as inline program documentation fragments, e.g.
Python docstrings) to the quite large (this document).

The first section gives a quick overview of the syntax of the
reStructuredText markup by example.  A complete specification is given
in the `Syntax Details`_ section.

`Literal blocks`_ (in which no markup processing is done) are used for
examples throughout this document, to illustrate the plain text
markup.


.. contents::


-----------------------
 Quick Syntax Overview
-----------------------

A reStructuredText document is made up of body or block-level
elements, and may be structured into sections.  Sections_ are
indicated through title style (underlines & optional overlines).
Sections contain body elements and/or subsections.  Some body elements
contain further elements, such as lists containing list items, which
in turn may contain paragraphs and other body elemens.  Others, such
as paragraphs, contain text and `inline markup`_ elements.

Here are examples of `body elements`_:

- Paragraphs_ (and `inline markup`_)::

      Paragraphs contain text and may contain inline markup:
      *emphasis*, **strong emphasis**, `interpreted text`, ``inline
      literals``, standalone hyperlinks (http://www.python.org),
      external hyperlinks (Python_), internal cross-references
      (example_), footnote references ([1]_), citation references
      ([CIT2002]_), substitution references (|example|), and _`inline
      hyperlink targets`.

      Paragraphs are separated by blank lines and are left-aligned.

- Five types of lists:

  1. `Bullet lists`_::

         - This is a bullet list.

         - Bullets can be "-", "*", or "+".

  2. `Enumerated lists`_::

         1. This is an enumerated list.

         2. Enumerators may be arabic numbers, letters, or roman
            numerals.

  3. `Definition lists`_::

         what
             Definition lists associate a term with a definition.

         how
             The term is a one-line phrase, and the definition is one
             or more paragraphs or body elements, indented relative to
             the term.

  4. `Field lists`_::

         :what: Field lists map field names to field bodies, like
                database records.  They are often part of an extension
                syntax.

         :how: The field marker is a colon, the field name, optional
               field arguments, and a colon.

               The field body may contain one or more body elements,
               indented relative to the field marker.

  5. `Option lists`_, for listing command-line options::

         -a            command-line option "a"
         -b file       options can have arguments
                       and long descriptions
         --long        options can be long also
         --input=file  long options can also have
                       arguments
         /V            DOS/VMS-style options too

     There must be at least two spaces between the option and the
     description.

- `Literal blocks`_::

      Literal blocks are indented, and indicated with a double-colon
      ("::") at the end of the preceding paragraph (right here -->)::

          if literal_block:
              text = 'is left as-is'
              spaces_and_linebreaks = 'are preserved'
              markup_processing = None

- `Block quotes`_::

      Block quotes consist of indented body elements:

          This theory, that is mine, is mine.

          Anne Elk (Miss)

- `Doctest blocks`_::

      >>> print 'Python-specific usage examples; begun with ">>>"'
      Python-specific usage examples; begun with ">>>"
      >>> print '(cut and pasted from interactive Python sessions)'
      (cut and pasted from interactive Python sessions)

- Tables_::

      +------------------------+------------+----------+
      | Header row, column 1   | Header 2   | Header 3 |
      +========================+============+==========+
      | body row 1, column 1   | column 2   | column 3 |
      +------------------------+------------+----------+
      | body row 2             | Cells may span        |
      +------------------------+-----------------------+

- `Explicit markup blocks`_ all begin with an explicit block marker,
  two periods and a space:

  - Footnotes_::

        .. [1] A footnote contains body elements, consistently
           indented by at least 3 spaces.

  - Citations_::

        .. [CIT2002] Just like a footnote, except the label is
           textual.

  - `Hyperlink targets`_::

        .. _Python: http://www.python.org

        .. _example:

        The "_example" target above points to this paragraph.

  - Directives_::

        .. image:: mylogo.png

  - `Substitution definitions`_::

        .. |symbol here| image:: symbol.png

  - Comments_::

        .. Comments begin with two dots and a space.  Anything may
           follow, except for the syntax of footnotes/citations,
           hyperlink targets, directives, or substitution definitions.


----------------
 Syntax Details
----------------

Descriptions below list "DTD elements" (XML "generic identifiers")
corresponding to syntax constructs.  For details on the hierarchy of
elements, please see `DPS Document Tree Structure`_ and the `Generic
Plaintext Document Interface DTD`_ XML document type definition.


Whitespace
==========

Spaces are recommended for indentation_, but tabs may also be used.
Tabs will be converted to spaces.  Tab stops are at every 8th column.

Other whitespace characters (form feeds [chr(12)] and vertical tabs
[chr(11)]) are converted to single spaces before processing.


Blank Lines
-----------

Blank lines are used to separate paragraphs and other elements.
Multiple successive blank lines are equivalent to a single blank line,
except within literal blocks (where all whitespace is preserved).
Blank lines may be omitted when the markup makes element separation
unambiguous, in conjunction with indentation.  The first line of a
document is treated as if it is preceded by a blank line, and the last
line of a document is treated as if it is followed by a blank line.


Indentation
-----------

Indentation is used to indicate, and is only significant in
indicating:

- multi-line contents of list items,
- multiple body elements within a list item (including nested lists),
- the definition part of a definition list item,
- block quotes,
- the extent of literal blocks, and
- the extent of explicit markup blocks.

Any text whose indentation is less than that of the current level
(i.e., unindented text or "dedents") ends the current level of
indentation.

Since all indentation is significant, the level of indentation must be
consistent.  For example, indentation is the sole markup indicator for
`block quotes`_::

    This is a top-level paragraph.

        This paragraph belongs to a first-level block quote.

        Paragraph 2 of the first-level block quote.

Multiple levels of indentation within a block quote will result in
more complex structures::

    This is a top-level paragraph.

        This paragraph belongs to a first-level block quote.

            This paragraph belongs to a second-level block quote.

    Another top-level paragraph.

            This paragraph belongs to a second-level block quote.

        This paragraph belongs to a first-level block quote.  The
        second-level block quote above is inside this first-level
        block quote.

When a paragraph or other construct consists of more than one line of
text, the lines must be left-aligned::

    This is a paragraph.  The lines of
    this paragraph are aligned at the left.

        This paragraph has problems.  The
    lines are not left-aligned.  In addition
      to potential misinterpretation, warning
        and/or error messages will be generated
      by the parser.

Several constructs begin with a marker, and the body of the construct
must be indented relative to the marker.  For constructs using simple
markers (`bullet lists`_, `enumerated lists`_, footnotes_, citations_,
`hyperlink targets`_, directives_, and comments_), the level of
indentation of the body is determined by the position of the first
line of text, which begins on the same line as the marker.  For
example, bullet list bodies must be indented by at least two columns
relative to the left edge of the bullet::

    - This is the first line of a bullet list
      item's paragraph.  All lines must align
      relative to the first line.  [1]_

          This indented paragraph is interpreted
          as a block quote.

    Because it is not sufficiently indented,
    this paragraph does not belong to the list
    item.

    .. [1] Here's a footnote.  The second line is aligned
       with the beginning of the footnote label.  The ".."
       marker is what determines the indentation.

For constructs using complex markers (`field lists`_ and `option
lists`_), where the marker may contain arbitrary text, the indentation
of the first line *after* the marker determines the left edge of the
body.  For example, field lists may have very long markers (containing
the field names)::

    :Hello: This field has a short field name, so aligning the field
            body with the first line is feasible.

    :Number-of-African-swallows-requried-to-carry-a-coconut: It would
        be very difficult to align the field body with the left edge
        of the first line.  It may even be preferable not to begin the
        body on the same line as the marker.


Escaping Mechanism
==================

The character set universally available to plain text documents, 7-bit
ASCII, is limited.  No matter what characters are used for markup,
they will already have multiple meanings in written text.  Therefore
markup characters *will* sometimes appear in text **without being
intended as markup**.  Any serious markup system requires an escaping
mechanism to override the default meaning of the characters used for
the markup.  In reStructuredText we use the backslash, commonly used
as an escaping character in other domains.

A backslash followed by any character escapes that character.  The
escaped character represents the character itself, and is prevented
from playing a role in any markup interpretation.  The backslash is
removed from the output.  A literal backslash is represented by two
backslashes in a row (the first backslash "escapes" the second,
preventing it being interpreted in an "escaping" role).

There are two contexts in which backslashes have no special meaning:
literal blocks and inline literals.  In these contexts, a single
backslash represents a literal backslash, without having to double up.

Please note that the reStructuredText specification and parser do not
address the issue of the representation or extraction of text input
(how and in what form the text actually *reaches* the parser).
Backslashes and other characters may serve a character-escaping
purpose in certain contexts and must be dealt with appropriately.  For
example, Python uses backslashes in strings to escape certain
characters, but not others.  The simplest solution when backslashes
appear in Python docstrings is to use raw docstrings::

    r"""This is a raw docstring.  Backslashes (\) are not touched."""


Reference Names
===============

Simple reference names are single words consisting of alphanumerics
plus internal hypens, underscores, and periods; no whitespace or other
characters are allowed.  Footnote labels (Footnotes_ & `Footnote
References`_), citation labels (Citations_ & `Citation References`_),
`interpreted text`_ roles, and some `hyperlink references`_ use the
simple reference name syntax.

Reference names using punctuation or whose names are phrases (two or
more space-separated words) are called "phrase-references".
Phrase-references are expressed by enclosing the phrase in backquotes
and treating the backquoted text as a reference name::

    Want to learn about `my favorite programming language`_?

    .. _my favorite programming language: http://www.python.org

Simple reference names may also optionally use backquotes.

Reference names are whitespace-neutral and case-insensitive.  When
resolving reference names internally:

- whitespace is normalized (one or more spaces, horizontal or vertical
  tabs, newlines, carriage returns, or form feeds, are interpreted as
  a single space), and

- case is normalized (all alphabetic characters are converted to
  lowercase).

For example, the following `hyperlink references`_ are equivalent::

    - `A HYPERLINK`_
    - `a    hyperlink`_
    - `A
      Hyperlink`_

Hyperlinks_, footnotes_, and citations_ all share the same namespace
for reference names.  The labels of citations (simple reference names)
and manually-numbered footnotes (numbers) are entered into the same
database as other hyperlink names.  This means that a footnote
(defined as "``.. [1]``") which can be referred to by a footnote
reference (``[1]_``), can also be referred to by a plain hyperlink
reference (1_).  Of course, each type of reference (hyperlink,
footnote, citation) may be processed and rendered differently.  Some
care should be taken to avoid reference name conflicts.


Document Structure
==================

Document
--------

DTD element: document.

The top-level element of a parsed reStructuredText document is the
"document" element.  After initial parsing, the document element is a
simple container for a document fragment, consisting of `body
elements`_, transitions_, and sections_, but lacking a document title
or other bibliographic elements.  The code that calls the parser may
choose to run one or more optional post-parse transforms_,
rearranging the document fragment into a complete document with a
title and possibly other metadata elements (author, date, etc.; see
`Bibliographic Fields`_).

Specifically, there is no way to specify a document title and subtitle
explicitly in reStructuredText.  Instead, a lone top-level section
title (see Sections_ below) can be treated as the document
title.  Similarly, a lone second-level section title immediately after
the "document title" can become the document subtitle.  See the
`DocTitle transform`_ for details.


Sections
--------

DTD elements: section, title.

Sections are identified through their titles, which are marked up with
adornment: "underlines" below the title text, and, in some cases,
matching "overlines" above the title.  An underline/overline is a
single repeated punctuation character that begins in column 1 and
forms a line extending at least as far as the right edge of the title
text.  Specifically, an underline/overline character may be any
non-alphanumeric printable 7-bit ASCII character [#]_.  An
underline/overline must be at least 4 characters long (to avoid
mistaking ellipses ["..."] for overlines).  When an overline is used,
the length and character used must match the underline.  There may be
any number of levels of section titles, although some output formats
may have limits (HTML has 6 levels).

.. [#] The following are all valid section title adornment
   characters::

       ! " # $ % & ' ( ) * + , - . / : ; < = > ? @@ [ \ ] ^ _ ` { | } ~

   Some characters are more suitable than others.  The following are
   recommended::

       = - ` : ' " ~ ^ _ * + # < >

Rather than imposing a fixed number and order of section title
adornment styles, the order enforced will be the order as encountered.
The first style encountered will be an outermost title (like HTML H1),
the second style will be a subtitle, the third will be a subsubtitle,
and so on.

Below are examples of section title styles::

    ===============
     Section Title
    ===============

    ---------------
     Section Title
    ---------------

    Section Title
    =============

    Section Title
    -------------

    Section Title
    `````````````

    Section Title
    '''''''''''''

    Section Title
    .............

    Section Title
    ~~~~~~~~~~~~~

    Section Title
    *************

    Section Title
    +++++++++++++

    Section Title
    ^^^^^^^^^^^^^

When a title has both an underline and an overline, the title text may
be inset, as in the first two examples above.  This is merely
aesthetic and not significant.  Underline-only title text may *not* be
inset.

A blank line after a title is optional.  All text blocks up to the
next title of the same or higher level are included in a section (or
subsection, etc.).

All section title styles need not be used, nor need any specific
section title style be used.  However, a document must be consistent
in its use of section titles: once a hierarchy of title styles is
established, sections must use that hierarchy.

Each section title automatically generates a hyperlink target pointing
to the section.  The text of the hyperlink target (the "reference
name") is the same as that of the section title.  See `Implicit
Hyperlink Targets`_ for a complete description.

Sections may contain `body elements`_, transitions_, and nested
sections.


Transitions
-----------

DTD element: transition.

    Instead of subheads, extra space or a type ornament between
    paragraphs may be used to mark text divisions or to signal
    changes in subject or emphasis.

    (The Chicago Manual of Style, 14th edition, section 1.80)

Transitions are commonly seen in novels and short fiction, as a gap
spanning one or more lines, with or without a type ornament such as a
row of asterisks.  Transitions separate other body elements.  A
transition should not begin or end a section or document, nor should
two transitions be immediately adjacent.

The syntax for a transition marker is a horizontal line of 4 or more
repeated punctuation characters.  The syntax is the same as section
title underlines without title text.  Transition markers require blank
lines before and after::

    Para.

    ----------

    Para.

Unlike section title underlines, no hierarchy of transition markers is
enforced, nor do differences in transition markers accomplish
anything.  It is recommended that a single consistent style be used.

The processing system is free to render transitions in output in any
way it likes.  For example, horizontal rules (``<HR>``) in HTML output
would be an obvious choice.


Body Elements
=============

Paragraphs
----------

DTD element: paragraph.

Paragraphs consist of blocks of left-aligned text with no markup
indicating any other body element.  Blank lines separate paragraphs
from each other and from other body elements.  Paragraphs may contain
`inline markup`_.

Syntax diagram::

    +------------------------------+
    | paragraph                    |
    |                              |
    +------------------------------+

    +------------------------------+
    | paragraph                    |
    |                              |
    +------------------------------+


Bullet Lists
------------

DTD elements: bullet_list, list_item.

A text block which begins with a "-", "*", or "+", followed by
whitespace, is a bullet list item (a.k.a. "unordered" list item).
List item bodies must be left-aligned and indented relative to the
bullet; the text immediately after the bullet determines the
indentation.  For example::

    - This is the first bullet list item.  The blank line above the
      first list item is required; blank lines between list items
      (such as below this paragraph) are optional.

    - This is the first paragraph in the second item in the list.

      This is the second paragraph in the second item in the list.
      The blank line above this paragraph is required.  The left edge
      of this paragraph lines up with the paragraph above, both
      indented relative to the bullet.

      - This is a sublist.  The bullet lines up with the left edge of
        the text blocks above.  A sublist is a new list so requires a
        blank line above and below.

    - This is the third item of the main list.

    This paragraph is not part of the list.

Here are examples of **incorrectly** formatted bullet lists::

    - This first line is fine.
    A blank line is required between list items and paragraphs.
    (Warning)

    - The following line appears to be a new sublist, but it is not:
      - This is a paragraph contination, not a sublist (since there's
        no blank line).  This line is also incorrectly indented.
      - Warnings may be issued by the implementation.

Syntax diagram::

    +------+-----------------------+
    | "- " | list item             |
    +------| (body elements)+      |
           +-----------------------+


Enumerated Lists
----------------

DTD elements: enumerated_list, list_item.

Enumerated lists (a.k.a. "ordered" lists) are similar to bullet lists,
but use enumerators instead of bullets.  An enumerator consists of an
enumeration sequence member and formatting, followed by whitespace.
The following enumeration sequences are recognized:

- arabic numerals: 1, 2, 3, ... (no upper limit).
- uppercase alphabet characters: A, B, C, ..., Z.
- lower-case alphabet characters: a, b, c, ..., z.
- uppercase Roman numerals: I, II, III, IV, ..., MMMMCMXCIX (4999).
- lowercase Roman numerals: i, ii, iii, iv, ..., mmmmcmxcix (4999).

The following formatting types are recognized:

- suffixed with a period: "1.", "A.", "a.", "I.", "i.".
- surrounded by parentheses: "(1)", "(A)", "(a)", "(I)", "(i)".
- suffixed with a right-parenthesis: "1)", "A)", "a)", "I)", "i)".

A system message will be generated for each of the following cases:

- The enumerators do not all have the same format and sequence type.

- The enumerators are not in sequence (i.e., "1.", "3." generates a
  level-1 [info] system message and produces two separate lists).

It is recommended that the enumerator of the first list item be
ordinal-1 ("1", "A", "a", "I", or "i").  Although other start-values
will be recognized, they may not be supported by the output format.

Lists using Roman numerals must begin with "I"/"i" or a
multi-character value, such as "II" or "XV".  Any other
single-character Roman numeral ("V", "X", etc.) will be interpreted as
a letter of the alphabet, not as a Roman numeral.  Likewise, lists
using letters of the alphabet may not begin with "I"/"i", since these
are recognized as Roman numeral 1.

Nested enumerated lists must be created with indentation.  For
example::

    1. Item 1.

       a) Item 1a.
       b) Item 1b.

Example syntax diagram::

    +-------+----------------------+
    | "1. " | list item            |
    +-------| (body elements)+     |
            +----------------------+


Definition Lists
----------------

DTD elements: definition_list, definition_list_item, term, classifier,
definition.

Each definition list item contains a term, an optional classifier, and
a definition.  A term is a simple one-line word or phrase.  An
optional classifier may follow the term on the same line, after " : "
(space, colon, space).  A definition is a block indented relative to
the term, and may contain multiple paragraphs and other body elements.
There may be no blank line between a term and a definition (this
distinguishes definition lists from `block quotes`_).  Blank lines are
required before the first and after the last definition list item, but
are optional in-between.  For example::

    term 1
        Definition 1.

    term 2
        Definition 2, paragraph 1.

        Definition 2, paragraph 2.

    term 3 : classifier
        Definition 3.

A definition list may be used in various ways, including:

- As a dictionary or glossary.  The term is the word itself, a
  classifier may be used to indicate the usage of the term (noun,
  verb, etc.), and the definition follows.

- To describe program variables.  The term is the variable name, a
  classifier may be used to indicate the type of the variable (string,
  integer, etc.), and the definition describes the variable's use in
  the program.  This usage of definition lists supports the classifier
  syntax of Grouch_, a system for describing and enforcing a Python
  object schema.

Syntax diagram::

    +---------------------------+
    | term [ " : " classifier ] |
    +--+------------------------+--+
       | definition                |
       | (body elements)+          |
       +---------------------------+


Field Lists
-----------

DTD elements: field_list, field, field_name, field_argument,
field_body.

Field lists are mappings from field names to field bodies, modeled on
RFC822_ headers.  A field name is made up of one or more letters,
numbers, and punctuation, except colons (":") and whitespace.  Field
names are case-insensitive.  There may be additional data separated
from the field name, called field arguments.  The field name and
optional field argument(s), along with a single colon prefix and
suffix, together form the field marker.  The field marker is followed
by whitespace and the field body.  The field body may contain multiple
body elements, indented relative to the field marker.  The first line
after the field name marker determines the indentation of the field
body.  For example::

    :Date: 2001-08-16
    :Version: 1
    :Authors: - Me
              - Myself
              - I
    :Indentation: Since the field marker may be quite long, the second
       and subsequent lines of the field body do not have to line up
       with the first line, but they must be indented relative to the
       field name marker, and they must line up with each other.
    :Parameter i: integer

Field arguments are separated from the field name and each other by
whitespace, and may not contain colons (":").  The interpretation of
field arguments is up to the application.  For example::

    :name1 word number=1:
        Both "word" and "number=1" are single words.

The syntax for field arguments may be extended in the future.  For
example, quoted phrases may be treated as a single argument, and
direct support for the "name=value" syntax may be added.

Applications of reStructuredText may recognize field names and
transform fields or field bodies in certain contexts; they are often
used as part of an extension syntax.  See `Bibliographic Fields`_
below for one example, or the "image" directive in `reStructuredText
Directives`_ for another.

Standard RFC822 headers cannot be used for this construct because they
are ambiguous.  A word followed by a colon at the beginning of a line
is common in written text.  However, in well-defined contexts such as
when a field list invariably occurs at the beginning of a document
(PEPs and email messages), standard RFC822 headers could be used.

Syntax diagram (simplified)::

    +------------------------------+------------+
    | ":" name (" " argument)* ":" | field body |
    +-------+----------------------+            |
            | (body elements)+                  |
            +-----------------------------------+


Bibliographic Fields
````````````````````

DTD elements: docinfo, author, authors, organization, contact,
version, status, date, copyright, topic.

When a field list is the first non-comment element in a document
(after the document title, if there is one), it may have certain
specific fields transformed to document bibliographic data.  This
bibliographic data corresponds to the front matter of a book, such as
the title page and copyright page.

Certain field names (listed below) are recognized and transformed to
the corresponding DTD elements, most becoming child elements of the
"docinfo" element.  No ordering is required of these fields, although
they may be rearranged to fit the document structure, as noted.
Unless otherwise indicated in the list below, each of the
bibliographic elements' field bodies may contain a single paragraph
only.  Field bodies may be checked for `RCS keywords`_ and cleaned up.
Any unrecognized fields will remain in a generic field list in the
document body.

The registered bibliographic field names and their corresponding DTD
elements are as follows:

- Field name "Author": author element.
- "Authors": authors.  May contain either: a single paragraph
  consisting of a list of authors, separated by ";" or ","; or a
  bullet list whose elements each contain a single paragraph per
  author.
- "Organization": organization.
- "Contact": contact.
- "Version": version.
- "Status": status.
- "Date": date.
- "Copyright": copyright.
- "Abstract": topic.  May contain arbitrary body elements.  Only one
  abstract is allowed.  The abstract becomes a topic element with
  title "Abstract" (or language equivalent) immediately following the
  docinfo element.

This field-name-to-element mapping can be extended, or replaced for
other languages.  See the `DocInfo transform`_ implementation
documentation for details.


RCS Keywords
````````````

`Bibliographic fields`_ recognized by the parser are normally checked
for RCS [#]_ keywords and cleaned up [#]_.  RCS keywords may be
entered into source files as "$keyword$", and once stored under RCS or
CVS [#]_, they are expanded to "$keyword: expansion text $".  For
example, a "Status" field will be transformed to a "status" element::

    :Status: $keyword: expansion text $

.. [#] Revision Control System.
.. [#] RCS keyword processing can be turned off (unimplemented).
.. [#] Concurrent Versions System.  CVS uses the same keywords as RCS.

Processed, the "status" element's text will become simply "expansion
text".  The dollar sign delimiters and leading RCS keyword name are
removed.

The RCS keyword processing only kicks in when all of these conditions
hold:

1. The field list is in bibliographic context (first non-comment
   contstruct in the document, after a document title if there is
   one).

2. The field name is a recognized bibliographic field name.

3. The sole contents of the field is an expanded RCS keyword, of the
   form "$Keyword: data $".


Option Lists
------------

DTD elements: option_list, option_list_item, option_group, option,
option_string, option_argument, description.

Option lists are two-column lists of command-line options and
descriptions, documenting a program's options.  For example::

    -a         Output all.
    -b         Output both (this description is
               quite long).
    -c arg     Output just arg.
    --long     Output all day long.

    -p         This option has two paragraphs in the description.
               This is the first.

               This is the second.  Blank lines may be omitted between
               options (as above) or left in (as here and below).

    --very-long-option  A VMS-syle option.  Note the adjustment for
                        the required two spaces.

    --an-even-longer-option
               The description can also start on the next line.

    -2, --two  This option has two variants.

    -f FILE, --file=FILE  These two options are synonyms; both have
                          arguments.

    /V         A VMS/DOS-style option.

There are several types of options recognized by reStructuredText:

- Short POSIX options consist of one dash and an option letter.
- Long POSIX options consist of two dashes and an option word; some
  systems use a single dash.
- Old GNU-style "plus" options consist of one plus and an option
  letter ("plus" options are deprecated now, their use discouraged).
- DOS/VMS options consist of a slash and an option letter or word.

Please note that both POSIX-style and DOS/VMS-style options may be
used by DOS or Windows software.  These and other variations are
sometimes used mixed together.  The names above have been chosen for
convenience only.

The syntax for short and long POSIX options is based on the syntax
supported by Python's getopt.py_ module, which implements an option
parser similar to the `GNU libc getopt_long()`_ function but with some
restrictions.  There are many variant option systems, and
reStructuredText option lists do not support all of them.

Although long POSIX and DOS/VMS option words may be allowed to be
truncated by the operating system or the application when used on the
command line, reStructuredText option lists do not show or support
this with any special syntax.  The complete option word should be
given, supported by notes about truncation if and when applicable.

Options may be followed by an argument placeholder, whose role and
syntax should be explained in the description text.  Either a space or
an equals sign may be used as a delimiter between options and option
argument placeholders.

Multiple option "synonyms" may be listed, sharing a single
description.  They must be separated by comma-space.

There must be at least two spaces between the option(s) and the
description.  The description may contain multiple body elements.  The
first line after the option marker determines the indentation of the
description.  As with other types of lists, blank lines are required
before the first option list item and after the last, but are optional
between option entries.

Syntax diagram (simplified)::

    +----------------------------+-------------+
    | option [" " argument] "  " | description |
    +-------+--------------------+             |
            | (body elements)+                 |
            +----------------------------------+


Literal Blocks
--------------

DTD element: literal_block.

A paragraph consisting of two colons ("::") signifies that all
following **indented** text blocks comprise a literal block.  No
markup processing is done within a literal block.  It is left as-is,
and is typically rendered in a monospaced typeface::

    This is a typical paragraph.  A literal block follows.

    ::

        for a in [5,4,3,2,1]:   # this is program code, shown as-is
            print a
        print "it's..."
        # a literal block continues until the indentation ends

    This text has returned to the indentation of the first paragraph,
    is outside of the literal block, and is therefore treated as an
    ordinary paragraph.

The paragraph containing only "::" will be completely removed from the
output; no empty paragraph will remain.

As a convenience, the "::" is recognized at the end of any paragraph.
If immediately preceded by whitespace, both colons will be removed
from the output (this is the "partially minimized" form).  When text
immediately precedes the "::", *one* colon will be removed from the
output, leaving only one colon visible (i.e., "::" will be replaced by
":"; this is the "fully minimized" form).

In other words, these are all equivalent (please pay attention to the
colons after "Paragraph"):

1. Expanded form::

      Paragraph:

      ::

          Literal block

2. Partially minimized form::

      Paragraph: ::

          Literal block

3. Fully minimized form::

      Paragraph::

          Literal block

The minimum leading whitespace will be removed from each line of the
literal block.  Other than that, all whitespace (including line
breaks) is preserved.  Blank lines are required before and after a
literal block, but these blank lines are not included as part of the
literal block.

Syntax diagram::

    +------------------------------+
    | paragraph                    |
    | (ends with "::")             |
    +------------------------------+
       +---------------------------+
       | literal block             |
       +---------------------------+


Block Quotes
------------

DTD element: block_quote.

A text block that is indented relative to the preceding text, without
markup indicating it to be a literal block, is a block quote.  All
markup processing (for body elements and inline markup) continues
within the block quote::

    This is an ordinary paragraph, introducing a block quote.

        "It is my business to know things.  That is my trade."

        -- Sherlock Holmes

Blank lines are required before and after a block quote, but these
blank lines are not included as part of the block quote.

Syntax diagram::

    +------------------------------+
    | (current level of            |
    | indentation)                 |
    +------------------------------+
       +---------------------------+
       | block quote               |
       | (body elements)+          |
       +---------------------------+


Doctest Blocks
--------------

DTD element: doctest_block.

Doctest blocks are interactive Python sessions cut-and-pasted into
docstrings.  They are meant to illustrate usage by example, and
provide an elegant and powerful testing environment via the `doctest
module`_ in the Python standard library.

Doctest blocks are text blocks which begin with ``">>> "``, the Python
interactive interpreter main prompt, and end with a blank line.
Doctest blocks are treated as a special case of literal blocks,
without requiring the literal block syntax.  If both are present, the
literal block syntax takes priority over Doctest block syntax::

    This is an ordinary paragraph.

    >>> print 'this is a Doctest block'
    this is a Doctest block

    The following is a literal block::

        >>> This is not recognized as a doctest block by
        reStructuredText.  It *will* be recognized by the doctest
        module, though!

Indentation is not required for doctest blocks.


Tables
------

DTD elements: table, tgroup, colspec, thead, tbody, row, entry.

Tables are described with a visual outline made up of the characters
"-", "=", "|", and "+".  The hyphen ("-") is used for horizontal lines
(row separators).  The equals sign ("=") may be used to separate
optional header rows from the table body.  The vertical bar ("|") is
used for vertical lines (column separators).  The plus sign ("+") is
used for intersections of horizontal and vertical lines.

Each table cell is treated as a miniature document; the top and bottom
cell boundaries act as delimiting blank lines.  Each cell contains
zero or more body elements.  Cell contents may include left and/or
right margins, which are removed before processing.  Example::

    +------------------------+------------+----------+----------+
    | Header row, column 1   | Header 2   | Header 3 | Header 4 |
    | (header rows optional) |            |          |          |
    +========================+============+==========+==========+
    | body row 1, column 1   | column 2   | column 3 | column 4 |
    +------------------------+------------+----------+----------+
    | body row 2             | Cells may span columns.          |
    +------------------------+------------+---------------------+
    | body row 3             | Cells may  | - Table cells       |
    +------------------------+ span rows. | - contain           |
    | body row 4             |            | - body elements.    |
    +------------------------+------------+---------------------+

As with other body elements, blank lines are required before and after
tables.  Tables' left edges should align with the left edge of
preceding text blocks; otherwise, the table is considered to be part
of a block quote.

Some care must be taken with tables to avoid undesired interactions
with cell text in rare cases.  For example, the following table
contains a cell in row 2 spanning from column 2 to column 4::

    +--------------+----------+-----------+-----------+
    | row 1, col 1 | column 2 | column 3  | column 4  |
    +--------------+----------+-----------+-----------+
    | row 2        |                                  |
    +--------------+----------+-----------+-----------+
    | row 3        |          |           |           |
    +--------------+----------+-----------+-----------+

If a vertical bar is used in the text of that cell, it could have
unintended effects if accidentally aligned with column boundaries::

    +--------------+----------+-----------+-----------+
    | row 1, col 1 | column 2 | column 3  | column 4  |
    +--------------+----------+-----------+-----------+
    | row 2        | Use the command ``ls | more``.   |
    +--------------+----------+-----------+-----------+
    | row 3        |          |           |           |
    +--------------+----------+-----------+-----------+

Several solutions are possible.  All that is needed is to break the
continuity of the cell outline rectangle.  One possibility is to shift
the text by adding an extra space before::

    +--------------+----------+-----------+-----------+
    | row 1, col 1 | column 2 | column 3  | column 4  |
    +--------------+----------+-----------+-----------+
    | row 2        |  Use the command ``ls | more``.  |
    +--------------+----------+-----------+-----------+
    | row 3        |          |           |           |
    +--------------+----------+-----------+-----------+

Another possibility is to add an extra line to row 2::

    +--------------+----------+-----------+-----------+
    | row 1, col 1 | column 2 | column 3  | column 4  |
    +--------------+----------+-----------+-----------+
    | row 2        | Use the command ``ls | more``.   |
    |              |                                  |
    +--------------+----------+-----------+-----------+
    | row 3        |          |           |           |
    +--------------+----------+-----------+-----------+


Explicit Markup Blocks
----------------------

An explicit markup block is a text block:

- whose first line begins with ".." followed by whitespace (the
  "explicit markup start"),
- whose second and subsequent lines (if any) are indented relative to
  the first, and
- which ends before an unindented line.

Explicit markup blocks are analogous to bullet list items, with ".."
as the bullet.  The text immediately after the explicit markup start
determines the indentation of the block body.  Blank lines are
required between explicit markup blocks and other elements, but are
optional between explicit markup blocks where unambiguous.

The explicit markup syntax is used for footnotes, citations, hyperlink
targets, directives, and comments.


Footnotes
`````````

DTD elements: footnote, label.

Each footnote consists of an explicit markup start (".. "), a left
square bracket, the footnote label, a right square bracket, and
whitespace, followed by indented body elements.  A footnote label can
be:

- a whole decimal number consisting of one or more digits,

- a single "#" (denoting `auto-numbered footnotes`_),

- a "#" followed by a simple reference name (an `autonumber label`_),
  or

- a single "*" (denoting `auto-symbol footnotes`_).

If the first body element within a footnote is a simple paragraph, it
may begin on the same line as the footnote label.  Other elements must
begin on a new line, consistently indented (by at least 3 spaces) and
left-aligned.

Footnotes may occur anywhere in the document, not only at the end.
Where or how they appear in the processed output depends on the
processing system.

Here is a manually numbered footnote::

    .. [1] Body elements go here.

Each footnote automatically generates a hyperlink target pointing to
itself.  The text of the hyperlink target name is the same as that of
the footnote label.  `Auto-numbered footnotes`_ generate a number as
their footnote label and reference name.  See `Implicit Hyperlink
Targets`_ for a complete description of the mechanism.

Syntax diagram::

    +-------+-------------------------+
    | ".. " | "[" label "]" footnote  |
    +-------+                         |
            | (body elements)+        |
            +-------------------------+


Auto-Numbered Footnotes
.......................

A number sign ("#") may be used as the first character of a footnote
label to request automatic numbering of the footnote or footnote
reference.

The first footnote to request automatic numbering is assigned the
label "1", the second is assigned the label "2", and so on (assuming
there are no manually numbered footnotes present; see `Mixed Manual
and Auto-Numbered Footnotes`_ below).  A footnote which has
automatically received a label "1" generates an implicit hyperlink
target with name "1", just as if the label was explicitly specified.

.. _autonumber label: `autonumber labels`_

A footnote may specify a label explicitly while at the same time
requesting automatic numbering: ``[#label]``.  These labels are called
_`autonumber labels`.  Autonumber labels do two things:

- On the footnote itself, they generate a hyperlink target whose name
  is the autonumber label (doesn't include the "#").

- They allow an automatically numbered footnote to be referred to more
  than once, as a footnote reference or hyperlink reference.  For
  example::

      If [#note]_ is the first footnote reference, it will show up as
      "[1]".  We can refer to it again as [#note]_ and again see
      "[1]".  We can also refer to it as note_ (an ordinary internal
      hyperlink reference).

      .. [#note] This is the footnote labeled "note".

The numbering is determined by the order of the footnotes, not by the
order of the references.  For footnote references without autonumber
labels (``[#]_``), the footnotes and footnote references must be in
the same relative order but need not alternate in lock-step.  For
example::

    [#]_ is a reference to footnote 1, and [#]_ is a reference to
    footnote 2.

    .. [#] This is footnote 1.
    .. [#] This is footnote 2.
    .. [#] This is footnote 3.

    [#]_ is a reference to footnote 3.

Special care must be taken if footnotes themselves contain
auto-numbered footnote references, or if multiple references are made
in close proximity.  Footnotes and references are noted in the order
they are encountered in the document, which is not necessarily the
same as the order in which a person would read them.


Auto-Symbol Footnotes
.....................

An asterisk ("*") may be used for footnote labels to request automatic
symbol generation for footnotes and footnote references.  The asterisk
may be the only character in the label.  For example::

    Here is a symbolic footnote reference: [*]_.

    .. [*] This is the footnote.

A transform will insert symbols as labels into corresponding footnotes
and footnote references.

The standard Docutils system uses the following symbols for footnote
marks [#]_:

- asterisk/star ("*")
- dagger (HTML character entity "&dagger;")
- double dagger ("&Dagger;")
- section mark ("&sect;")
- pilcrow or paragraph mark ("&para;")
- number sign ("#")
- spade suit ("&spades;")
- heart suit ("&hearts;")
- diamond suit ("&diams;")
- club suit ("&clubs;")

.. [#] This list was inspired by the list of symbols for "Note
   Reference Marks" in The Chicago Manual of Style, 14th edition,
   section 12.51.  "Parallels" ("\|\|") were given in CMoS instead of
   the pilcrow.  The last four symbols (the card suits) were added
   arbitrarily.

If more than ten symbols are required, the same sequence will be
reused, doubled and then tripled, and so on ("**" etc.).


Mixed Manual and Auto-Numbered Footnotes
........................................

Manual and automatic footnote numbering may both be used within a
single document, although the results may not be expected.  Manual
numbering takes priority.  Only unused footnote numbers are assigned
to auto-numbered footnotes.  The following example should be
illustrative::

    [2]_ will be "2" (manually numbered),
    [#]_ will be "3" (anonymous auto-numbered), and
    [#label]_ will be "1" (labeled auto-numbered).

    .. [2] This footnote is labeled manually, so its number is fixed.

    .. [#label] This autonumber-labeled footnote will be labeled "1".
       It is the first auto-numbered footnote and no other footnote
       with label "1" exists.  The order of the footnotes is used to
       determine numbering, not the order of the footnote references.

    .. [#] This footnote will be labeled "3".  It is the second
       auto-numbered footnote, but footnote label "2" is already used.


Citations
`````````

Citations are identical to footnotes except that they use only
non-numeric labels such as ``[note]`` or ``[GVR2001]``.  Citation
labels are simple `reference names`_ (case-insensitive single words
consisting of alphanumerics plus internal hyphens, underscores, and
periods; no whitespace).  Citations may be rendered separately and
differently from footnotes.  For example::

    Here is a citation reference: [CIT2002]_.

    .. [CIT2002] This is the citation.  It's just like a footnote,
       except the label is textual.


.. _hyperlinks:

Hyperlink Targets
`````````````````

DTD element: target.

These are also called _`explicit hyperlink targets`, to differentiate
them from `implicit hyperlink targets`_ defined below.

Hyperlink targets identify a location within or outside of a document,
which may be linked to by `hyperlink references`_.

Hyperlink targets may be named or anonymous.  Named hyperlink targets
consist of an explicit markup start (".. "), an underscore, the
reference name (no trailing underscore), a colon, whitespace, and a
link block::

    .. _hyperlink-name: link-block

Reference names are whitespace-neutral and case-insensitive.  See
`Reference Names`_ for details and examples.

Anonymous hyperlink targets consist of an explicit markup start
(".. "), two underscores, a colon, whitespace, and a link block; there
is no reference name::

    .. __: anonymous-hyperlink-target-link-block

An alternate syntax for anonymous hyperlinks consists of two
underscores, a space, and a link block::

    __ anonymous-hyperlink-target-link-block

See `Anonymous Hyperlinks`_ below.

There are three types of hyperlink targets: internal, external, and
indirect.

1. _`Internal hyperlink targets` have empty link blocks.  They provide
   an end point allowing a hyperlink to connect one place to another
   within a document.  An internal hyperlink target points to the
   element following the target.  For example::

       Clicking on this internal hyperlink will take us to the target_
       below.

       .. _target:

       The hyperlink target above points to this paragraph.

   Internal hyperlink targets may be "chained".  Multiple adjacent
   internal hyperlink targets all point to the same element::

       .. _target1:
       .. _target2:

       The targets "target1" and "target2" are synonyms; they both
       point to this paragraph.

   If the element "pointed to" is an external hyperlink target (with a
   URI in its link block; see #2 below) the URI from the external
   hyperlink target is propagated to the internal hyperlink targets;
   they will all "point to" the same URI.  There is no need to
   duplicate a URI.  For example, all three of the following hyperlink
   targets refer to the same URI::

       .. _Python DOC-SIG mailing list archive:
       .. _archive:
       .. _Doc-SIG: http://mail.python.org/pipermail/doc-sig/

    An inline form of internal hyperlink target is available; see
    `Inline Hyperlink Targets`_.

2. _`External hyperlink targets` have an absolute or relative URI in
   their link blocks.  For example, take the following input::

       See the Python_ home page for info.

       .. _Python: http://www.python.org

   After processing into HTML, the hyperlink might be expressed as::

       See the <A HREF="http://www.python.org">Python</A> home page
       for info.

   An external hyperlink's URI may begin on the same line as the
   explicit markup start and target name, or it may begin in an
   indented text block immediately following, with no intervening
   blank lines.  If there are multiple lines in the link block, they
   are stripped of leading and trailing whitespace and concatenated.
   The following external hyperlink targets are equivalent::

       .. _one-liner: http://structuredtext.sourceforge.net

       .. _starts-on-this-line: http://
          structuredtext.sourceforge.net

       .. _entirely-below:
          http://structuredtext.
          sourceforge.net

   If an external hyperlink target's URI contains an underscore as its
   last character, it must be escaped to avoid being mistaken for an
   indirect hyperlink target::

       This link_ refers to a file called ``underscore_``.

       .. _link: underscore\_

3. _`Indirect hyperlink targets` have a hyperlink reference in their
   link blocks.  In the following example, target "one" indirectly
   references whatever target "two" references, and target "two"
   references target "three", an internal hyperlink target.  In
   effect, all three reference the same thing::

       .. _one: two_
       .. _two: three_
       .. _three:

   Just as with `hyperlink references`_ anywhere else in a document,
   if a phrase-reference is used in the link block it must be enclosed
   in backquotes.  As with `external hyperlink targets`_, the link
   block of an indirect hyperlink target may begin on the same line as
   the explicit markup start or the next line.  It may also be split
   over multiple lines, in which case the lines are joined with
   whitespace before being normalized.

   For example, the following indirect hyperlink targets are
   equivalent::

       .. _one-liner: `A HYPERLINK`_
       .. _entirely-below:
          `a    hyperlink`_
       .. _split: `A
          Hyperlink`_

If a reference name contains a colon followed by whitespace, either:

- the phrase must be enclosed in backquotes::

      .. _`FAQTS: Computers: Programming: Languages: Python`:
         http://python.faqts.com/

- or the colon(s) must be backslash-escaped in the link target::

      .. _Chapter One\: "Tadpole Days":

      It's not easy being green...

See `Implicit Hyperlink Targets`_ below for the resolution of
duplicate reference names.

Syntax diagram::

    +-------+----------------------+
    | ".. " | "_" name ":" link    |
    +-------+ block                |
            |                      |
            +----------------------+


Anonymous Hyperlinks
....................

The `World Wide Web Consortium`_ recommends in its `HTML Techniques
for Web Content Accessibility Guidelines`_ that authors should
"clearly identify the target of each link." Hyperlink references
should be as verbose as possible, but duplicating a verbose hyperlink
name in the target is onerous and error-prone.  Anonymous hyperlinks
are designed to allow convenient verbose hyperlink references, and are
analogous to `Auto-Numbered Footnotes`_.  They are particularly useful
in short or one-off documents.

Anonymous `hyperlink references`_ are specified with two underscores
instead of one::

    See `the web site of my favorite programming language`__.

Anonymous targets begin with ".. __:"; no reference name is required
or allowed::

    .. __: http://www.python.org

As a convenient alternative, anonymous targets may begin with "__"
only::

    __ http://www.python.org

The reference name of the reference is not used to match the reference
to its target.  Instead, the order of anonymous hyperlink references
and targets within the document is significant: the first anonymous
reference will link to the first anonymous target.  The number of
anonymous hyperlink references in a document must match the number of
anonymous targets.


Directives
``````````

DTD elements: depend on the directive.

Directives are indicated by an explicit markup start (".. ") followed
by the directive type, two colons, and whitespace.  Directive types
are case-insensitive single words (alphanumerics plus internal
hyphens, underscores, and periods; no whitespace).  Two colons are
used after the directive type for these reasons:

- To avoid clashes with common comment text like::

      .. Danger: modify at your own risk!

- If an implementation of reStructuredText does not recognize a
  directive (i.e., the directive-handler is not installed), the entire
  directive block (including the directive itself) will be treated as
  a literal block, and a level-3 (error) system message generated.
  Thus "::" is a natural choice.

Any text on the first line after the directive indicator is directive
data.  The interpretation of directive data is up to the directive
code.  Directive data may be interpreted as arguments to the
directive, or simply as the first line of the directive's text block.

Actions taken in response to directives and the interpretation of text
in the directive block or subsequent text block(s) are
directive-dependent.  Indented text following a directive may be
interpreted as a directive block.  Simple directives may not require
any text beyond the directive data (if that), and will not process any
following indented text.

Directives which have been implemented and registered in the reference
reStructuredText parser are described in the `reStructuredText
Directives`_ document.  Below are examples of implemented directives.

Directives are meant for the arbitrary processing of their contents
(the directive data & text block), which can be transformed into
something possibly unrelated to the original text.  Directives are
used as an extension mechanism for reStructuredText, a way of adding
support for new constructs without adding new syntax.  For example,
here's how an image may be placed::

    .. image:: mylogo.png

A figure (a graphic with a caption) may placed like this::

    .. figure:: larch.png
       The larch.

An admonition (note, caution, etc.) contains other body elements::

    .. note:: This is a paragraph

       - Here is a bullet list.

It may also be possible for directives to be used as pragmas, to
modify the behavior of the parser, such as to experiment with
alternate syntax.  There is no parser support for this functionality
at present; if a reasonable need for pragma directives is found, they
may be supported.

Directives normally do not survive as "directive" elements past the
parsing stage; they are a *parser construct* only, and have no
intrinsic meaning outside of reStructuredText.  Instead, the parser
will transform recognized directives into (possibly specialized)
document elements.  Unknown directives will trigger level-3 (error)
system messages.

Syntax diagram::

    +-------+--------------------------+
    | ".. " | directive type "::" data |
    +-------+ directive block          |
            |                          |
            +--------------------------+


Substitution Definitions
````````````````````````

DTD element: substitution_definition.

Substitution definitions are indicated by an explicit markup start
(".. ") followed by a vertical bar, the substitution text, another
vertical bar, whitespace, and the definition block.  Substitution text
may not begin or end with whitespace.  A substitution definition block
contains an embedded inline-compatible directive (without the leading
".. "), such as an image.  For example::

    The |biohazard| symbol must be used on containers used to
    dispose of medical waste.

    .. |biohazard| image:: biohazard.png

It is an error for a substitution definition block to directly or
indirectly contain a circular substitution reference.

`Substitution references`_ are replaced in-line by the processed
contents of the corresponding definition (linked by matching
substitution text).  Substitution definitions allow the power and
flexibility of block-level directives_ to be shared by inline text.
They are a way to include arbitrarily complex inline structures within
text, while keeping the details out of the flow of text.  They are the
equivalent of SGML/XML's named entities or programming language
macros.

Without the substitution mechanism, every time someone wants an
application-specific new inline structure, they would have to petition
for a syntax change.  In combination with existing directive syntax,
any inline structure can be coded without new syntax (except possibly
a new directive).

Syntax diagram::

    +-------+-----------------------------------------------------+
    | ".. " | "|" substitution text "| " directive type "::" data |
    +-------+ directive block                                     |
            |                                                     |
            +-----------------------------------------------------+

Following are some use cases for the substitution mechanism.  Please
note that most of the embedded directives shown are examples only and
have not been implemented.

Objects
    Substitution references may be used to associate ambiguous text
    with a unique object identifier.

    For example, many sites may wish to implement an inline "user"
    directive::

        |Michael| and |Jon| are our widget-wranglers.

        .. |Michael| user:: mjones
        .. |Jon|     user:: jhl

    Depending on the needs of the site, this may be used to index the
    document for later searching, to hyperlink the inline text in
    various ways (mailto, homepage, mouseover Javascript with profile
    and contact information, etc.), or to customize presentation of
    the text (include username in the inline text, include an icon
    image with a link next to the text, make the text bold or a
    different color, etc.).

    The same approach can be used in documents which frequently refer
    to a particular type of objects with unique identifiers but
    ambiguous common names.  Movies, albums, books, photos, court
    cases, and laws are possible.  For example::

        |The Transparent Society| offers a fascinating alternate view
        on privacy issues.

        .. |The Transparent Society| book:: isbn=0738201448

    Classes or functions, in contexts where the module or class names
    are unclear and/or interpreted text cannot be used, are another
    possibility::

        4XSLT has the convenience method |runString|, so you don't
        have to mess with DOM objects if all you want is the
        transformed output.

        .. |runString| function:: module=xml.xslt class=Processor

Images
    Images are a common use for substitution references::

        West led the |H| 3, covered by dummy's |H| Q, East's |H| K,
        and trumped in hand with the |S| 2.

        .. |H| image:: /images/heart.png
           :height: 11
           :width: 11
        .. |S| image:: /images/spade.png
           :height: 11
           :width: 11

        * |Red light| means stop.
        * |Green light| means go.
        * |Yellow light| means go really fast.

        .. |Red light|    image:: red_light.png
        .. |Green light|  image:: green_light.png
        .. |Yellow light| image:: yellow_light.png

        |-><-| is the official symbol of POEE_.

        .. |-><-| image:: discord.png
        .. _POEE: http://www.poee.org/

    The "image" directive has been implemented.

Styles [#]_
    Substitution references may be used to associate inline text with
    an externally defined presentation style::

        Even |the text in Texas| is big.

        .. |the text in Texas| style:: big

    The style name may be meaningful in the context of some particular
    output format (CSS class name for HTML output, LaTeX style name
    for LaTeX, etc), or may be ignored for other output formats (often
    for plain text).

    .. @@@@@@ This needs to be rethought & rewritten or removed:

       Interpreted text is unsuitable for this purpose because the set
       of style names cannot be predefined - it is the domain of the
       content author, not the author of the parser and output
       formatter - and there is no way to associate a stylename
       argument with an interpreted text style role.  Also, it may be
       desirable to use the same mechanism for styling blocks::
   
           .. style:: motto
              At Bob's Underwear Shop, we'll do anything to get in
              your pants.
   
           .. style:: disclaimer
              All rights reversed.  Reprint what you like.

    .. [#] There may be sufficient need for a "style" mechanism to
       warrant simpler syntax such as an extension to the interpreted
       text role syntax.  The substitution mechanism is cumbersome for
       simple text styling.

Templates
    Inline markup may be used for later processing by a template
    engine.  For example, a Zope_ author might write::

        Welcome back, |name|!

        .. |name| tal:: replace user/getUserName

    After processing, this ZPT output would result::

        Welcome back,
        <span tal:replace="user/getUserName">name</span>!

    Zope would then transform this to something like "Welcome back,
    David!" during a session with an actual user.

Replacement text
    The substitution mechanism may be used for simple macro
    substitution.  This may be appropriate when the replacement text
    is repeated many times throughout one or more documents,
    especially if it may need to change later.  A short example is
    unavoidably contrived::

        |RST| is a little annoying to type over and over, especially
        when writing about |RST| itself, and spelling out the
        bicapitalized word |RST| every time isn't really necessary for
        |RST| source readability.

        .. |RST| replace:: reStructuredText_
        .. _reStructuredText: http://structuredtext.sourceforge.net/

    Substitution is also appropriate when the replacement text cannot
    be represented using other inline constructs, or is obtrusively
    long::

        But still, that's nothing compared to a name like
        |j2ee-cas|__.

        .. |j2ee-cas| replace::
           the Java `TM`:super: 2 Platform, Enterprise Edition Client
           Access Services
        __ http://developer.java.sun.com/developer/earlyAccess/
           j2eecas/


Comments
````````

DTD element: comment.

Arbitrary indented text may follow the explicit markup start and will
be processed as a comment element.  No further processing is done on
the comment block text; a comment contains a single "text blob".
Depending on the output formatter, comments may be removed from the
processed output.  The only restriction on comments is that they not
use the same syntax as directives, footnotes, citations, or hyperlink
targets.

A explicit markup start followed by a blank line and nothing else
(apart from whitespace) is an "empty comment".  It serves to terminate
a preceding construct, and does **not** consume any indented text
following.  To have a block quote follow a list or any indented
construct, insert an unindented empty comment in-between.

Syntax diagram::

    +-------+----------------------+
    | ".. " | comment              |
    +-------+ block                |
            |                      |
            +----------------------+


Implicit Hyperlink Targets
==========================

Implicit hyperlink targets are generated by section titles, footnotes,
and citations, and may also be generated by extension constructs.
Implicit hyperlink targets otherwise behave identically to explicit
`hyperlink targets`_.

Problems of ambiguity due to conflicting duplicate implicit and
explicit reference names are avoided by following this procedure:

1. `Explicit hyperlink targets`_ override any implicit targets having
   the same reference name.  The implicit hyperlink targets are
   removed, and level-1 (info) system messages are inserted.

2. Duplicate implicit hyperlink targets are removed, and level-1
   (info) system messages inserted.  For example, if two or more
   sections have the same title (such as "Introduction" subsections of
   a rigidly-structured document), there will be duplicate implicit
   hyperlink targets.

3. Duplicate explicit hyperlink targets are removed, and level-2
   (warning) system messages are inserted.  Exception: duplicate
   `external hyperlink targets`_ (identical hyperlink names and
   referenced URIs) do not conflict, and are not removed.

System messages are inserted where target links have been removed.
See "Error Handling" in `PEP 258`_.

The parser must return a set of *unique* hyperlink targets.  The
calling software (such as the `Python Docstring Processing System`_)
can warn of unresolvable links, giving reasons for the messages.


Inline Markup
=============

In reStructuredText, inline markup applies to words or phrases within
a text block.  The same whitespace and punctuation that serves to
delimit words in written text is used to delimit the inline markup
syntax constructs.  The text within inline markup may not begin or end
with whitespace.  Arbitrary character-level markup is not supported;
it is not possible to mark up individual characters within a word.
Inline markup cannot be nested.

There are nine inline markup constructs.  Five of the constructs use
identical start-strings and end-strings to indicate the markup:

- emphasis_: "*"
- `strong emphasis`_: "**"
- `interpreted text`_: "`"
- `inline literals`_: "``"
- `substitution references`_: "|"

Three constructs use different start-strings and end-strings:

- `inline hyperlink targets`_: "_`" and "`"
- `footnote references`_: "[" and "]_"
- `hyperlink references`_: "`" and "\`_" (phrases), or just a
  trailing "_" (single words)

`Standalone hyperlinks`_ are recognized implicitly, and use no extra
markup.

The inline markup start-string and end-string recognition rules are as
follows.  If any of the conditions are not met, the start-string or
end-string will not be recognized or processed.

1. Inline markup start-strings must start a text block or be
   immediately preceded by whitespace, single or double quotes, "(",
   "[", "{", or "<".

2. Inline markup start-strings must be immediately followed by
   non-whitespace.

3. Inline markup end-strings must be immediately preceded by
   non-whitespace.

4. Inline markup end-strings must end a text block or be immediately
   followed by whitespace or one of::

       ' " . , : ; ! ? - ) ] } >

5. If an inline markup start-string is immediately preceded by a
   single or double quote, "(", "[", "{", or "<", it must not be
   immediately followed by the corresponding single or double quote,
   ")", "]", "}", or ">".

6. An inline markup end-string must be separated by at least one
   character from the start-string.

7. An unescaped backslash preceding a start-string or end-string will
   disable markup recognition, except for the end-string of `inline
   literals`_.  See `Escaping Mechanism`_ above for details.

For example, none of the following are recognized as containing inline
markup start-strings: " * ", '"*"', "'*'", "(*)", "(* ", "[*]", "{*}",
"\*", " ` ", etc.

The inline markup recognition rules were devised intentionally to
allow 90% of non-markup uses of "*", "`", "_", and "|" *without*
resorting to backslashes.  For 9 of the remaining 10%, use inline
literals or literal blocks::

    "``\*``" -> "\*" (possibly in another font or quoted)

Only those who understand the escaping and inline markup rules should
attempt the remaining 1%.  ;-)

Inline markup delimiter characters are used for multiple constructs,
so to avoid ambiguity there must be a specific recognition order for
each character.  The inline markup recognition order is as follows:

- Asterisks: `Strong emphasis`_ ("**") is recognized before emphasis_
  ("*").

- Backquotes: `Inline literals`_ ("``"), `inline hyperlink targets`_
  (leading "_`", trailing "`"), are mutually independent, and are
  recognized before phrase `hyperlink references`_ (leading "`",
  trailing "\`_") and `interpreted text`_ ("`").

- Trailing underscores: Footnote references ("[" + label + "]_") and
  simple `hyperlink references`_ (name + trailing "_") are mutually
  independent.

- Vertical bars: `Substitution references`_ ("|") are independently
  recognized.

- `Standalone hyperlinks`_ are the last to be recognized.


Emphasis
--------

DTD element: emphasis.

Start-string = end-string = "*".

Text enclosed by single asterisk characters is emphasized::

    This is *emphasized text*.

Emphasized text is typically displayed in italics.


Strong Emphasis
---------------

DTD element: strong.

Start-string = end-string = "**".

Text enclosed by double-asterisks is emphasized strongly::

    This is **strong text**.

Strongly emphasized text is typically displayed in boldface.


Interpreted Text
----------------

DTD element: interpreted.

Start-string = end-string = "`".

Text enclosed by single backquote characters is interpreted::

    This is `interpreted text`.

Interpreted text is text that is meant to be related, indexed, linked,
summarized, or otherwise processed, but the text itself is left
alone.  The text is "tagged" directly, in-place.  The semantics of
interpreted text are domain-dependent.  It can be used as implicit or
explicit descriptive markup (such as for program identifiers, as in
the `Python Source Reader`_), for cross-reference interpretation (such
as index entries), or for other applications where context can be
inferred.

The role of the interpreted text determines how the text is
interpreted.  It is normally inferred implicitly.  The role of the
interpreted text may also be indicated explicitly, using a role
marker, either as a prefix or as a suffix to the interpreted text,
depending on which reads better::

    :role:`interpreted text`

    `interpreted text`:role:

Roles are simply extensions of the available inline constructs; to
emphasis_, `strong emphasis`_, `inline literals`_, and `hyperlink
references`_, we can add "index entry", "acronym", "class", "red",
"blinking" or anything else we want.

A role marker consists of a colon, the role name, and another colon.
A role name is a single word consisting of alphanumerics plus internal
hypens, underscores, and periods; no whitespace or other characters
are allowed.


Inline Literals
---------------

DTD element: literal.

Start-string = end-string = "``".

Text enclosed by double-backquotes is treated as inline literals::

    This text is an example of ``inline literals``.

Inline literals may contain any characters except two adjacent
backquotes in an end-string context (according to the recognition
rules above).  No markup interpretation (including backslash-escape
interpretation) is done within inline literals.

Line breaks are *not* preserved in inline literals.  Although a
reStructuredText parser will preserve runs of spaces in its output,
the final representation of the processed document is dependent on the
output formatter, thus the preservation of whitespace cannot be
guaranteed.  If the preservation of line breaks and/or other
whitespace is important, `literal blocks`_ should be used.

Inline literals are useful for short code snippets.  For example::

    The regular expression ``[+-]?(\d+(\.\d*)?|\.\d+)`` matches
    floating-point numbers (without exponents).


Hyperlink References
--------------------

DTD element: reference.

- Named hyperlink references:

  - Start-string = "" (empty string), end-string = "_".
  - Start-string = "`", end-string = "\`_".  (Phrase references.)

- Anonymous hyperlink references:

  - Start-string = "" (empty string), end-string = "__".
  - Start-string = "`", end-string = "\`__".  (Phrase references.)

Hyperlink references are indicated by a trailing underscore, "_",
except for `standalone hyperlinks`_ which are recognized
independently.  The underscore can be thought of as a right-pointing
arrow.  The trailing underscores point away from hyperlink references,
and the leading underscores point toward `hyperlink targets`_.

Hyperlinks consist of two parts.  In the text body, there is a source
link, a reference name with a trailing underscore (or two underscores
for `anonymous hyperlinks`_)::

    See the Python_ home page for info.

A target link with a matching reference name must exist somewhere else
in the document.  See `Hyperlink Targets`_ for a full description).

`Anonymous hyperlinks`_ (which see) do not use reference names to
match references to targets, but otherwise behave similarly to named
hyperlinks.


Inline Hyperlink Targets
------------------------

DTD element: target.

Start-string = "_`", end-string = "`".

Inline hyperlink targets are the equivalent of explicit `internal
hyperlink targets`_, but may appear within running text.  The syntax
begins with an underscore and a backquote, is followed by a hyperlink
name or phrase, and ends with a backquote.  Inline hyperlink targets
may not be anonymous.

For example, the following paragraph contains a hyperlink target named
"Norwegian Blue"::

    Oh yes, the _`Norwegian Blue`.  What's, um, what's wrong with it?

See `Implicit Hyperlink Targets`_ for the resolution of duplicate
reference names.


Footnote References
-------------------

DTD element: footnote_reference.

Start-string = "[", end-string = "]_".

Each footnote reference consists of a square-bracketed label followed
by a trailing underscore.  Footnote labels are one of:

- one or more digits (i.e., a number),

- a single "#" (denoting `auto-numbered footnotes`_),

- a "#" followed by a simple reference name (an `autonumber label`_),
  or

- a single "*" (denoting `auto-symbol footnotes`_).

For example::

    Please RTFM [1]_.

    .. [1] Read The Fine Manual


Citation References
-------------------

DTD element: citation_reference.

Start-string = "[", end-string = "]_".

Each citation reference consists of a square-bracketed label followed
by a trailing underscore.  Citation labels are simple `reference
names`_ (case-insensitive single words, consisting of alphanumerics
plus internal hyphens, underscores, and periods; no whitespace).

For example::

    Here is a citation reference: [CIT2002]_.

See Citations_ for the citation itself.


Substitution References
-----------------------

DTD element: substitution_reference, reference.

Start-string = "|", end-string = "|" (optionally followed by "_" or
"__").

Vertical bars are used to bracket the substitution reference text.  A
substitution reference may also be a hyperlink reference by appending
a "_" (named) or "__" (anonymous) suffix; the substitution text is
used for the reference text in the named case.

The processing system replaces substitution references with the
processed contents of the corresponding `substitution definitions`_.
Substitution definitions produce inline-compatible elements.

Examples::

    This is a simple |substitution reference|.  It will be replaced by
    the processing system.

    This is a combination |substitution and hyperlink reference|_.  In
    addition to being replaced, the replacement text or element will
    refer to the "substitution and hyperlink reference" target.


Standalone Hyperlinks
---------------------

DTD element: link.

Start-string = end-string = "" (empty string).

A URI (absolute URI [#URI]_ or standalone email address) within a text
block is treated as a general external hyperlink with the URI itself
as the link's text.  For example::

    See http://www.python.org for info.

would be marked up in HTML as::

    See <A HREF="http://www.python.org">http://www.python.org</A> for
    info.

Two forms of URI are recognized:

1. Absolute URIs.  These consist of a scheme, a colon (":"), and a
   scheme-specific part whose interpretation depends on the scheme.

   The scheme is the name of the protocol, such as "http", "ftp",
   "mailto", or "telnet".  The scheme consists of an initial letter,
   followed by letters, numbers, and/or "+", "-", ".".  Recognition is
   limited to known schemes, per the W3C's `Index of WWW Addressing
   Schemes`_.

   The scheme-specific part of the resource identifier may be either
   hierarchical or opaque:

   - Hierarchical identifiers begin with one or two slashes and may
     use slashes to separate hierarchical components of the path.
     Examples are web pages and FTP sites::

         http://www.python.org

         ftp://ftp.python.org/pub/python

   - Opaque identifiers do not begin with slashes.  Examples are
     email addresses and newsgroups::

         mailto:someone@@somewhere.com

         news:comp.lang.python

   With queries, fragments, and %-escape sequences, URIs can become
   quite complicated.  A reStructuredText parser must be able to
   recognize any absolute URI, as defined in RFC2396_ and RFC2732_.

2. Standalone email addresses, which are treated as if they were
   ablsolute URIs with a "mailto:" scheme.  Example::

       someone@@somewhere.com

Punctuation at the end of a URI is not considered part of the URI.

.. [#URI] Uniform Resource Identifier.  URIs are a general form of
   URLs (Uniform Resource Locators).  For the syntax of URIs see
   RFC2396_ and RFC2732_.


----------------
 Error Handling
----------------

DTD element: system_message, problematic.

Markup errors are handled according to the specification in `PEP
258`_.


.. _reStructuredText: http://structuredtext.sourceforge.net/
.. _Python Docstring Processing System:
   http://docstring.sourceforge.net/
.. _DPS Document Tree Structure:
   http://docstring.sourceforge.net/spec/doctree.txt
.. _Generic Plaintext Document Interface DTD:
   http://docstring.sourceforge.net/spec/gpdi.dtd
.. _transforms:
   http://docstring.sourceforge.net/dps/transforms/__init__.py
.. _DocTitle transform:
.. _Grouch: http://www.mems-exchange.org/software/grouch/
.. _RFC822: http://www.rfc-editor.org/rfc/rfc822.txt
.. _DocInfo transform:
   http://docstring.sourceforge.net/dps/transforms/frontmatter.py
.. _doctest module:
   http://www.python.org/doc/current/lib/module-doctest.html
.. _getopt.py:
   http://www.python.org/doc/current/lib/module-getopt.html
.. _GNU libc getopt_long():
   http://www.gnu.org/manual/glibc-2.2.3/html_node/libc_516.html
.. _Index of WWW Addressing Schemes:
   http://www.w3.org/Addressing/schemes.html
.. _World Wide Web Consortium: http://www.w3.org/
.. _HTML Techniques for Web Content Accessibility Guidelines:
   http://www.w3.org/TR/WCAG10-HTML-TECHS/#link-text
.. _reStructuredText Directives:
   http://structuredtext.sourceforge.net/spec/directives.txt
.. _Python Source Reader:
   http://docstring.sourceforge.net/spec/pysource.txt
.. _RFC2396: http://www.rfc-editor.org/rfc/rfc2396.txt
.. _RFC2732: http://www.rfc-editor.org/rfc/rfc2732.txt
.. _Zope: http://www.zope.com/
.. _PEP 258: http://docstring.sourceforge.net/spec/pep-0258.txt


..
   Local Variables:
   mode: indented-text
   indent-tabs-mode: nil
   sentence-end-double-space: t
   fill-column: 70
   End:
@


1.46
log
@minor
@
text
@d6 2
a7 2
:Revision: $Revision: 1.45 $
:Date: $Date: 2002/03/28 04:28:03 $
d10 2
a11 2
constructs to indicate the structure of a document. These constructs
are equally easy to read in raw and processed forms. This document is
d14 1
a14 1
example). reStructuredText is a candidate markup syntax for the
d18 3
a20 3
as section headings, bullet lists, and emphasis. The markup used is as
minimal and unobtrusive as possible. Less often-used constructs and
extensions to the basic reStructuredText syntax may have more
d28 1
a28 1
reStructuredText markup by example. A complete specification is given
d93 1
a93 1
                database records. They are often part of an extension
d181 1
a181 1
        .. Comments begin with two dots and a space. Anything may
d191 1
a191 1
corresponding to syntax constructs. For details on the hierarchy of
d200 1
a200 1
Tabs will be converted to spaces. Tab stops are at every 8th column.
d213 1
a213 1
unambiguous, in conjunction with indentation. The first line of a
d236 1
a236 1
consistent. For example, indentation is the sole markup indicator for
d258 1
a258 1
        This paragraph belongs to a first-level block quote. The
d265 1
a265 1
    This is a paragraph. The lines of
d268 2
a269 2
        This paragraph has problems. The
    lines are not left-aligned. In addition
d275 1
a275 1
must be indented relative to the marker. For constructs using simple
d279 1
a279 1
line of text, which begins on the same line as the marker. For
d284 2
a285 2
      item's paragraph. All lines must align
      relative to the first line. [1]_
d294 2
a295 2
    .. [1] Here's a footnote. The second line is aligned
       with the beginning of the footnote label. The ".."
d301 1
a301 1
body. For example, field lists may have very long markers (containing
d309 1
a309 1
        of the first line. It may even be preferable not to begin the
d317 7
a323 7
ASCII, is limited. No matter what characters are used for markup, they
will already have multiple meanings in written text. Therefore markup
characters *will* sometimes appear in text **without being intended as
markup**. Any serious markup system requires an escaping mechanism to
override the default meaning of the characters used for the markup. In
reStructuredText we use the backslash, commonly used as an escaping
character in other domains.
d325 1
a325 1
A backslash followed by any character escapes that character. The
d327 2
a328 2
from playing a role in any markup interpretation. The backslash is
removed from the output. A literal backslash is represented by two
d333 1
a333 1
literal blocks and inline literals. In these contexts, a single
d340 1
a340 1
purpose in certain contexts and must be dealt with appropriately. For
d342 1
a342 1
characters, but not others. The simplest solution when backslashes
d345 1
a345 1
    r"""This is a raw docstring. Backslashes (\) are not touched."""
d353 1
a353 1
characters are allowed. Footnote labels (Footnotes_ & `Footnote
d369 1
a369 1
Reference names are whitespace-neutral and case-insensitive. When
d406 1
a406 1
"document" element. After initial parsing, the document element is a
d409 1
a409 1
or other bibliographic elements. The code that calls the parser may
d416 1
a416 1
explicitly in reStructuredText. Instead, a lone top-level section
d418 2
a419 2
title. Similarly, a lone second-level section title immediately after
the "document title" can become the document subtitle. See the
d430 1
a430 1
matching "overlines" above the title. An underline/overline is a
d433 2
a434 2
text. Specifically, an underline/overline character may be any
non-alphanumeric printable 7-bit ASCII character [#]_. An
d436 2
a437 2
mistaking ellipses ["..."] for overlines). When an overline is used,
the length and character used must match the underline. There may be
d446 1
a446 1
   Some characters are more suitable than others. The following are
d495 3
a497 2
be inset, as in the first two examples above. This is merely aesthetic
and not significant. Underline-only title text may *not* be inset.
d499 2
a500 2
A blank line after a title is optional. All text blocks up to the next
title of the same or higher level are included in a section (or
d504 2
a505 2
section title style be used. However, a document must be consistent in
its use of section titles: once a hierarchy of title styles is
d509 2
a510 2
to the section. The text of the hyperlink target (the "reference
name") is the same as that of the section title. See `Implicit
d563 2
a564 2
indicating any other body element. Blank lines separate paragraphs
from each other and from other body elements. Paragraphs may contain
d586 4
a589 4
whitespace, is a bullet list item (a.k.a. "unordered" list item). List
item bodies must be left-aligned and indented relative to the bullet;
the text immediately after the bullet determines the indentation. For
example::
d591 1
a591 1
    - This is the first bullet list item. The blank line above the
d597 4
a600 4
      This is the second paragraph in the second item in the list. The
      blank line above this paragraph is required. The left edge of
      this paragraph lines up with the paragraph above, both indented
      relative to the bullet.
d602 2
a603 2
      - This is a sublist. The bullet lines up with the left edge of
        the text blocks above. A sublist is a new list so requires a
d618 1
a618 1
        no blank line). This line is also incorrectly indented.
d635 1
a635 1
but use enumerators instead of bullets. An enumerator consists of an
d659 1
a659 1
ordinal-1 ("1", "A", "a", "I", or "i"). Although other start-values
d663 1
a663 1
multi-character value, such as "II" or "XV". Any other
d665 1
a665 1
a letter of the alphabet, not as a Roman numeral. Likewise, lists
d669 1
a669 1
Nested enumerated lists must be created with indentation. For
d692 8
a699 8
a definition. A term is a simple one-line word or phrase. An optional
classifier may follow the term on the same line, after " : " (space,
colon, space). A definition is a block indented relative to the term,
and may contain multiple paragraphs and other body elements. There may
be no blank line between a term and a definition (this distinguishes
definition lists from `block quotes`_). Blank lines are required
before the first and after the last definition list item, but are
optional in-between. For example::
d714 1
a714 1
- As a dictionary or glossary. The term is the word itself, a
d718 1
a718 1
- To describe program variables. The term is the variable name, a
d721 1
a721 1
  the program. This usage of definition lists supports the classifier
d742 4
a745 4
RFC822_ headers. A field name is made up of one or more letters,
numbers, and punctuation, except colons (":") and whitespace. Field
names are case-insensitive. There may be additional data separated
from the field name, called field arguments. The field name and
d747 2
a748 2
suffix, together form the field marker. The field marker is followed
by whitespace and the field body. The field body may contain multiple
d751 1
a751 1
body. For example::
d777 2
a778 2
used as part of an extension syntax. See `Bibliographic Fields`_ below
for one example, or the "image" directive in `reStructuredText
d804 1
a804 1
specific fields transformed to document bibliographic data. This
d810 6
a815 6
"docinfo" element. No ordering is required of these fields, although
they may be rearranged to fit the document structure, as noted. Unless
otherwise indicated in the list below, each of the bibliographic
elements' field bodies may contain a single paragraph only. Field
bodies may be checked for `RCS keywords`_ and cleaned up. Any
unrecognized fields will remain in a generic field list in the
d822 1
a822 1
- "Authors": authors. May contain either: a single paragraph
d832 3
a834 3
- "Abstract": topic. May contain arbitrary body elements. Only one
  abstract is allowed. The abstract becomes a topic element with title
  "Abstract" (or language equivalent) immediately following the
d838 1
a838 1
other languages. See the `DocInfo transform`_ implementation
d846 4
a849 4
for RCS [#]_ keywords and cleaned up [#]_. RCS keywords may be entered
into source files as "$keyword$", and once stored under RCS or CVS
[#]_, they are expanded to "$keyword: expansion text $". For example,
a "Status" field will be transformed to a "status" element::
d855 1
a855 1
.. [#] Concurrent Versions System. CVS uses the same keywords as RCS.
d858 1
a858 1
text". The dollar sign delimiters and leading RCS keyword name are
d881 1
a881 1
descriptions, documenting a program's options. For example::
d892 1
a892 1
               This is the second. Blank lines may be omitted between
d895 2
a896 2
    --very-long-option  A VMS-syle option. Note the adjustment for the
                        required two spaces.
d918 2
a919 2
used by DOS or Windows software. These and other variations are
sometimes used mixed together. The names above have been chosen for
d925 1
a925 1
restrictions. There are many variant option systems, and
d931 1
a931 1
this with any special syntax. The complete option word should be
d935 1
a935 1
syntax should be explained in the description text. Either a space or
d940 1
a940 1
description. They must be separated by comma-space.
d943 1
a943 1
description. The description may contain multiple body elements. The
d945 1
a945 1
description. As with other types of lists, blank lines are required
d964 3
a966 3
following **indented** text blocks comprise a literal block. No markup
processing is done within a literal block. It is left as-is, and is
typically rendered in a monospaced typeface::
d968 1
a968 1
    This is a typical paragraph. A literal block follows.
d986 1
a986 1
from the output (this is the "partially minimized" form). When text
d1015 4
a1018 4
literal block. Other than that, all whitespace (including line breaks)
is preserved. Blank lines are required before and after a literal
block, but these blank lines are not included as part of the literal
block.
d1037 1
a1037 1
markup indicating it to be a literal block, is a block quote. All
d1043 1
a1043 1
        "It is my business to know things. That is my trade."
d1068 3
a1070 3
docstrings. They are meant to illustrate usage by example, and provide
an elegant and powerful testing environment via the `doctest module`_
in the Python standard library.
d1075 1
a1075 1
without requiring the literal block syntax. If both are present, the
d1086 1
a1086 1
        reStructuredText. It *will* be recognized by the doctest
d1098 4
a1101 4
"-", "=", "|", and "+". The hyphen ("-") is used for horizontal lines
(row separators). The equals sign ("=") may be used to separate
optional header rows from the table body. The vertical bar ("|") is
used for vertical lines (column separators). The plus sign ("+") is
d1123 1
a1123 1
tables. Tables' left edges should align with the left edge of
d1128 1
a1128 1
with cell text in rare cases. For example, the following table
d1186 4
a1189 4
as the bullet. The text immediately after the explicit markup start
determines the indentation of the block body. Blank lines are required
between explicit markup blocks and other elements, but are optional
between explicit markup blocks where unambiguous.
d1260 1
a1260 1
_`autonumber labels`. Autonumber labels do two things:
d1332 2
a1333 1
If more than ten symbols are required, the same sequence will be reused, doubled and then tripled, and so on ("**" etc.).
d1389 1
a1389 1
Hyperlink targets may be named or anonymous. Named hyperlink targets
d1396 1
a1396 1
Reference names are whitespace-neutral and case-insensitive. See
d1415 1
a1415 1
1. _`Internal hyperlink targets` have empty link blocks. They provide
d1417 2
a1418 2
   within a document. An internal hyperlink target points to the
   element following the target. For example::
d1427 1
a1427 1
   Internal hyperlink targets may be "chained". Multiple adjacent
d1439 2
a1440 2
   they will all "point to" the same URI. There is no need to
   duplicate a URI. For example, all three of the following hyperlink
d1451 1
a1451 1
   their link blocks. For example, take the following input::
d1465 1
a1465 1
   blank lines. If there are multiple lines in the link block, they
d1487 1
a1487 1
   link blocks. In the following example, target "one" indirectly
d1489 2
a1490 2
   references target "three", an internal hyperlink target. In effect,
   all three reference the same thing::
d1498 1
a1498 1
   in backquotes. As with `external hyperlink targets`_, the link
d1500 1
a1500 1
   the explicit markup start or the next line. It may also be split
d1545 1
a1545 1
name in the target is onerous and error-prone. Anonymous hyperlinks
d1547 1
a1547 1
analogous to `Auto-Numbered Footnotes`_. They are particularly useful
d1566 1
a1566 1
to its target. Instead, the order of anonymous hyperlink references
d1568 1
a1568 1
reference will link to the first anonymous target. The number of
d1579 4
a1582 4
by the directive type, two colons, and whitespace. Directive types are
case-insensitive single words (alphanumerics plus internal hyphens,
underscores, and periods; no whitespace). Two colons are used after
the directive type for these reasons:
d1591 2
a1592 2
  a literal block, and a level-? () system message generated. Thus
  "::" is a natural choice.
d1595 1
a1595 1
data. The interpretation of directive data is up to the directive
d1601 2
a1602 2
directive-dependent. Indented text following a directive may be
interpreted as a directive block. Simple directives may not require
d1608 1
a1608 1
Directives`_ document. Below are examples of implemented directives.
d1612 2
a1613 2
something possibly unrelated to the original text. Directives are used
as an extension mechanism for reStructuredText, a way of adding
d1632 3
a1634 3
alternate syntax. There is no parser support for this functionality at
present; if a reasonable need for pragma directives is found, they may
be supported.
d1638 1
a1638 1
intrinsic meaning outside of reStructuredText. Instead, the parser
d1640 1
a1640 1
document elements. Unknown directives will trigger level-3 (error)
d1722 1
a1722 1
    cases, and laws are possible. For example::
d1782 6
a1787 6
       Interpreted text is unsuitable for this purpose because the set of
       style names cannot be predefined - it is the domain of the content
       author, not the author of the parser and output formatter - and
       there is no way to associate a stylename argument with an
       interpreted text style role.  Also, it may be desirable to use the
       same mechanism for styling blocks::
d1790 2
a1791 2
              At Bob's Underwear Shop, we'll do anything to get in your
              pants.
d1852 6
a1857 6
be processed as a comment element. No further processing is done on
the comment block text; a comment contains a single "text
blob". Depending on the output formatter, comments may be removed from
the processed output. The only restriction on comments is that they
not use the same syntax as directives, footnotes, citations, or
hyperlink targets.
d1860 1
a1860 1
(apart from whitespace) is an "empty comment". It serves to terminate
d1862 1
a1862 1
following. To have a block quote follow a list or any indented
d1886 1
a1886 1
   the same reference name. The implicit hyperlink targets are
d1890 1
a1890 1
   (info) system messages inserted. For example, if two or more
d1896 1
a1896 1
   (warning) system messages are inserted. Exception: duplicate
d1900 2
a1901 2
System messages are inserted where target links have been removed. See
"Error Handling" in `PEP 258`_.
d1903 1
a1903 1
The parser must return a set of *unique* hyperlink targets. The
d1981 1
a1981 1
attempt the remaining 1%. ;-)
d2046 2
a2047 2
alone. The text is "tagged" directly, in-place. The semantics of
interpreted text are domain-dependent. It can be used as implicit or
d2054 1
a2054 1
interpreted. It is normally inferred implicitly. The role of the
d2068 2
a2069 2
A role marker consists of a colon, the role name, and another colon. A
role name is a single word consisting of alphanumerics plus internal
d2087 1
a2087 1
rules above). No markup interpretation (including backslash-escape
d2090 1
a2090 1
Line breaks are *not* preserved in inline literals. Although a
d2094 2
a2095 2
guaranteed. If the preservation of line breaks and/or other whitespace
is important, `literal blocks`_ should be used.
d2097 1
a2097 1
Inline literals are useful for short code snippets. For example::
d2111 1
a2111 1
  - Start-string = "`", end-string = "\`_". (Phrase references.)
d2116 1
a2116 1
  - Start-string = "`", end-string = "\`__". (Phrase references.)
d2120 2
a2121 2
independently. The underscore can be thought of as a right-pointing
arrow. The trailing underscores point away from hyperlink references,
d2124 1
a2124 1
Hyperlinks consist of two parts. In the text body, there is a source
d2131 1
a2131 1
in the document. See `Hyperlink Targets`_ for a full description).
d2146 1
a2146 1
hyperlink targets`_, but may appear within running text. The syntax
d2148 1
a2148 1
name or phrase, and ends with a backquote. Inline hyperlink targets
d2154 1
a2154 1
    Oh yes, the _`Norwegian Blue`. What's, um, what's wrong with it?
d2168 1
a2168 1
by a trailing underscore. Footnote labels are one of:
d2224 2
a2225 2
    This is a simple |substitution reference|.  It will be replaced by the
    processing system.
d2241 1
a2241 1
as the link's text. For example::
d2252 1
a2252 1
1. Absolute URIs. These consist of a scheme, a colon (":"), and a
d2256 2
a2257 2
   "mailto", or "telnet". The scheme consists of an initial letter,
   followed by letters, numbers, and/or "+", "-", ".". Recognition is
d2272 1
a2272 1
   - Opaque identifiers do not begin with slashes. Examples are
d2280 1
a2280 1
   quite complicated. A reStructuredText parser must be able to
d2284 1
a2284 1
   ablsolute URIs with a "mailto:" scheme. Example::
d2290 3
a2292 3
.. [#URI] Uniform Resource Identifier. URIs are a general form of URLs
   (Uniform Resource Locators). For the syntax of URIs see RFC2396_
   and RFC2732_.
d2321 2
a2322 1
.. _getopt.py: http://www.python.org/doc/current/lib/module-getopt.html
@


1.45
log
@Clarifications, updates, & fixes.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.44 $
:Date: $Date: 2002/03/16 05:35:29 $
d1972 1
a1972 1
allow 90% of legitimate uses of "*", "`", "_", and "|" *without*
@


1.44
log
@  - Added "contents".  - Minor edits.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.43 $
:Date: $Date: 2002/03/13 02:35:15 $
d780 6
d1610 2
a1611 2
something possibly unrelated to the original text. Directives can be
used as an extension mechanism for reStructuredText, a way of adding
d1613 1
a1613 1
here's how an image could be placed::
d1617 1
a1617 1
A figure (a graphic with a caption) could be placed like this::
d1744 2
a1745 1
                       [height=11 width=11]
d1747 2
a1748 1
                       [height=11 width=11]
d1778 1
a1778 10
    Interpreted text is unsuitable for this purpose because the set of
    style names cannot be predefined - it is the domain of the content
    author, not the author of the parser and output formatter - and
    there is no way to associate a stylename argument with an
    interpreted text style role.  Also, it may be desirable to use the
    same mechanism for styling blocks::

        .. style:: motto
           At Bob's Underwear Shop, we'll do anything to get in your
           pants.
d1780 13
a1792 2
        .. style:: disclaimer
           All rights reversed.  Reprint what you like.
d1909 7
a1915 3
Inline markup is the markup of words or phrases within a text block.
Inline markup cannot be nested.  The text within inline markup may not
begin or end with whitespace.
d2297 1
a2297 1
DTD element: system_message.
d2303 1
a2303 1
.. _reStructuredText: http://structuredtext.sourceforge.net
d2305 1
a2305 1
   http://docstring.sourceforge.net
@


1.43
log
@  - Added note about hyperlink/footnote/citation reference name    shared namespace.  - Added "Auto-Symbol Footnotes", "Mixed Manual and Auto-Numbered    Footnotes", and "Citations".
@
text
@d6 2
a7 2
:Revision: $Revision: 1.42 $
:Date: $Date: 2002/03/08 04:20:41 $
d36 3
d1321 1
a1321 1
   section 12.51.  "Parallels" (``||``) were given in CMoS instead of
d1347 1
a1347 1
    
d2184 1
a2184 1
    Please refer to the fine manual [GVR2001]_.
d2250 1
a2250 1
     Examples are web pages and FTP sites:
@


1.42
log
@minor edits & fixes
@
text
@d6 2
a7 2
:Revision: $Revision: 1.41 $
:Date: $Date: 2002/03/07 03:37:41 $
d383 9
a391 1
@@@@@@ namespace: integers for footnotes
d742 6
a747 6
optional field argument(s) together form the field marker. The field
marker is preceded by a single colon, and followed by a single colon
and whitespace; this is followed by the field body. The field body may
contain multiple body elements, indented relative to the field marker.
The first line after the field name marker determines the indentation
of the field body. For example::
d774 2
a775 1
for one example.
a1203 5
Manually numbered and auto-numbered footnotes may be mixed within a
single document, although the results may not be expected.  Manual
numbering takes priority.  Only unused footnote numbers are assigned
to auto-numbered footnotes.

d1240 5
a1244 7
label "1", the second is assigned the label "2", and so on.  Automatic
footnote numbering may not be mixed with manual footnote numbering; it
would cause numbering and referencing conflicts.  Citations_, using
non-numeric labels such as ``[note]`` or ``[GVR2001]``, may be used
together with automatic numbering.  A footnote which has automatically
received a label "1" generates an implicit hyperlink target with name
"1", just as if the label was explicitly specified.
d1291 30
a1320 1
@@@@@@
d1322 25
a1346 7
The Chicago Manual of Style lists the following symbols for "Note
Reference Marks" (section 12.51 in the 14th edition): asterisk/star
("*"), dagger (HTML character entity "&dagger;"), double dagger
("&Dagger;"), section mark ("&sect;"), parallels ("\|\|"), number sign
("#"). For more symbols, it suggests using doubles and triples of
these symbols, ("**" etc.) in the same sequence, but I'm sure we could
come up with some more interesting glyphs.
d1352 11
a1362 1
@@@@@@
a1363 3
- simple `reference names`_ (case-insensitive single words consisting
  of alphanumerics plus internal hyphens, underscores, and periods; no
  whitespace),
d1365 1
@


1.41
log
@  - Added citations & citation references.  - Reworked footnotes, adding a symbolic form.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.40 $
:Date: $Date: 2002/03/04 04:37:18 $
d56 3
a58 2
      (example_), footnote references ([1]_), substitution
      references (|example|), and _`inline hyperlink targets`.
d151 1
a151 1
  
d154 1
a154 1
  
d156 4
a159 3
  
        .. [CIT] Just like a footnote, except the label is textual.
  
d161 1
a161 1
  
d163 1
a163 1
  
d165 1
a165 1
  
d167 1
a167 1
  
d169 1
a169 1
  
d171 1
a171 1
  
d173 1
a173 1
  
d175 1
a175 1
  
d177 1
a177 1
  
d756 1
a756 1
    :name1 word number=1: 
d1186 1
a1186 1
- a whole decimal number consisting of one or more digits, 
d1244 2
d1261 1
a1261 1
  
d1294 1
a1294 1
("&Dagger;"), section mark ("&sect;"), parallels ("||"), number sign
d1607 1
a1607 1
flexibility of block-level directives_ to be shared by inline text. 
d2143 1
a2143 1
processed contents of the corresponding `substitution definitions`_. 
@


1.40
log
@  - Added "topic" element.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.38 $
:Date: $Date: 2002/02/22 01:41:20 $
d154 4
d177 2
a178 2
           follow, except for the syntax of footnotes, hyperlink
           targets, directives, or substitution definitions.
d271 6
a276 6
markers (`bullet lists`_, `enumerated lists`_, footnotes_, `hyperlink
targets`_, directives_, and comments_), the level of indentation of
the body is determined by the position of the first line of text,
which begins on the same line as the marker. For example, bullet list
bodies must be indented by at least two columns relative to the left
edge of the bullet::
d349 3
a351 2
References`_), `interpreted text`_ roles, and some `hyperlink
references`_ use the simple reference name syntax.
d381 2
d1170 2
a1171 2
The explicit markup syntax is used for footnotes, hyperlink targets,
directives, and comments.
d1179 8
a1186 3
Footnotes consist of an explicit markup start (".. "), a left square
bracket, the footnote label, a right square bracket, and whitespace,
followed by body elements. Footnote labels can be:
d1188 2
a1189 3
- simple `reference names`_ (case-insensitive single words consisting
  of alphanumerics plus internal hyphens, underscores, and periods; no
  whitespace),
d1191 1
a1191 1
- a single "#" (denoting `auto-numbered footnotes`_), or
d1193 4
a1196 1
- a "#" followed by a simple reference name, an "autonumber label".
d1199 1
a1199 1
may begin on the same line as the footnote label. Other elements must
d1207 1
a1207 1
Here is a footnote, referred to in `Footnote References`_::
d1209 1
a1209 2
    .. [GVR2001] Python Documentation; van Rossum, Drake, et al.;
       http://www.python.org/doc/
d1212 3
a1214 3
itself. The text of the hyperlink target name is the same as that of
the footnote label. `Auto-numbered footnotes`_ generate a number as
their footnote label and reference name. See `Implicit Hyperlink
d1234 1
a1234 1
label "1", the second is assigned the label "2", and so on. Automatic
d1236 3
a1238 3
would cause numbering and referencing conflicts. Footnotes using
non-numeric labels, such as ``[note]`` or ``[GVR2001]`` may be used
together with automatic numbering. A footnote which has automatically
d1243 2
a1244 2
requesting automatic numbering: ``[#label]``. These labels are called
"autonumber labels". Autonumber labels do two things:
d1250 1
a1250 1
  than once, as a footnote reference or hyperlink reference. For
d1253 6
a1258 6
    If [#note]_ is the first footnote reference, it will show up as
    "[1]". We can refer to it again as [#note]_ and again see "[1]".
    We can also refer to it as note_ (an ordinary internal hyperlink
    reference).

    .. [#note] This is the footnote "note".
d1261 1
a1261 1
order of the references. For footnote references without autonumber
d1263 1
a1263 1
the same relative order but need not alternate in lock-step. For
d1275 30
d1780 2
a1781 2
not use the same syntax as directives, footnotes, or hyperlink
targets.
d1801 4
a1804 4
Implicit hyperlink targets are generated by section titles and
footnotes, and may also be generated by extension constructs. Implicit
hyperlink targets otherwise behave identically to explicit `hyperlink
targets`_.
d2087 17
a2103 2
Footnote references consist of a square-bracketed label followed by a
trailing underscore. Footnote labels are one of:
a2104 3
- simple `reference names`_ (case-insensitive single words, consisting
  of alphanumerics plus internal hyphens, underscores, and periods; no
  whitespace),
d2106 6
a2111 1
- a single "#" (denoting `auto-numbered footnotes`_), or
d2113 4
a2116 1
- a "#" followed by a simple reference name, an "autonumber label".
d2122 1
a2122 1
See Footnotes_ for the footnote itself.
@


1.39
log
@updates & refinements
@
text
@d772 1
a772 1
version, status, date, copyright, abstract.
d804 4
a807 3
- "Abstract": abstract. May contain arbitrary body elements. Only one
  abstract is allowed. The abstract becomes a section-equivalent
  immediately following the docinfo element.
d843 1
a843 1
   form '$Keyword: data $'.
d1461 1
a1461 3
.. No DTD element at present.

   DTD element: directive.
@


1.38
log
@updated "abstract"
@
text
@d6 2
a7 2
:Revision: $Revision: 1.37 $
:Date: $Date: 2002/02/21 03:35:10 $
d28 2
a29 2
reStructuredText markup by example. More details are given in the
`Syntax Details`_ section.
d89 2
a90 1
                database records.
d144 1
a144 16
      +------------------------+------------+----------+

- Footnotes_::

      .. [1] A footnote contains body elements, consistently
         indented by at least 3 spaces.

- `Hyperlink targets`_::

      .. _Python: http://www.python.org

      .. _example:

      The "_example" target above points to this paragraph.

- Directives_::
d146 2
a147 1
      .. image:: mylogo.png
d149 26
a174 9
- Substitution definitions_::

      .. |symbol here| image:: symbol.png

- Comments_::

      .. Comments begin with two dots and a space. Anything may
         follow, except for the syntax of footnotes, hyperlink
         targets, directives, or substitution definitions.
d215 1
d261 3
a263 3
      to potential misinterpretation, warnings
        and/or errors will be generated by the
      parser.
d267 1
a267 1
markers (`bullet lists`_, `enumerated lists`_, footnotes, `hyperlink
d307 3
a309 3
The character set available in plain text documents, 7-bit ASCII, is
limited. No matter what characters are used for markup, they will
already have multiple meanings in written text. Therefore markup
d311 2
a312 4
markup**.

Any serious markup system requires an escaping mechanism to override
the default meaning of the characters used for the markup. In
d316 1
a316 1
A backslash followed by any character escapes the character. The
d320 2
a321 1
backslashes in a row.
d325 1
a325 1
backslash represents a literal backslash.
d418 2
a419 1
any number of levels of section titles.
d476 1
a476 1
and not significant. Underline-only title text may not be inset.
d488 3
a490 3
to the section. The text of the hyperlink target is the same as that
of the section title. See `Implicit Hyperlink Targets`_ for a complete
description.
d513 1
a513 1
The syntax for a transition marker a horizontal line of 4 or more
d525 2
a526 2
enforced, although it is recommended that a single consistent style be
used.
d529 1
a529 1
way it likes.  For example, horizontal rules (<HR>) in HTML output
d552 1
d630 1
a630 1
A system warning will be generated for each of the following cases:
d632 1
a632 1
1. The enumerators do not all have the same format and sequence type.
d634 2
a635 2
2. The enumerators are not in sequence (i.e., "1.", "3." generates a
   warning and produces two separate lists).
d750 4
d755 3
a757 3
transform fields or field bodies in certain contexts. See
`Bibliographic Fields`_ below. Any untransformed fields remain in a
generic field list.
d786 3
a788 1
bodies may be checked for `RCS keywords`_ and cleaned up.
d816 5
a820 5
Normally [#]_, recognized `bibliographic fields`_ are checked for RCS
[#]_ keywords and cleaned up. RCS keywords may be entered into source
files as "$keyword$", and once stored under RCS or CVS [#]_, they are
expanded to "$keyword: expansion text $". For example, a "Status"
field will be transformed to a "status" element::
d824 4
d829 2
a830 1
text". The dollar signs and leading RCS keyword name are removed.
a843 4
.. [#] RCS keyword processing can be turned off.
.. [#] Revision Control System.
.. [#] Concurrent Versions System. CVS uses the same keywords as RCS.

d848 2
a849 2
DTD elements: option_list, option_list_item, option, short_option,
long_option, vms_option, option_argument, description.
d852 28
a879 2
descriptions, documenting a program's options. There are three types
of options:
d882 4
a885 1
- Long POSIX options consist of two dashes and an option word.
d888 4
a891 3
(Please note that both POSIX-style and DOS/VMS-style options may also
be used by DOS or Windows software. The names above have been chosen
for convenience only.)
d895 3
a897 3
parser similar to the `GNU libc getopt_long()` function but with some
restrictions. Variant option systems (and there are lots of them) are
not supported by reStructuredText option lists.
d900 4
a903 4
truncated by the operating system or the application, reStructuredText
option lists do not show or support this with any special syntax. The
complete option word should be given, supported by notes about
truncation if and when applicable.
d906 13
a918 44
syntax should be explained in the description text. Either a space
or (in most cases) an equals sign may be used as a delimiter between
options and option argument placeholders. The following table details
the valid combinations:

+---------------+----------+-----------------------------+
|               | Option   | Option & Argument Delimiter |
|               | With No  +--------------+--------------+
|  Option Type  | Argument | Space (" ")  | Equals ("=") |
+===============+==========+==============+==============+
| Short POSIX   | -o       | -o arg       | (not valid)  |
+---------------+----------+--------------+--------------+
| Long POSIX    | --option | --option arg | --option=arg |
+---------------+----------+--------------+--------------+
| DOS/VMS       | /O       | /O arg       | /O=arg       |
|               +----------+--------------+--------------+
|               | /OPTION  | /OPTION arg  | /OPTION=arg  |
+---------------+----------+--------------+--------------+

Multiple variant option types may be listed for each option, separated
by comma-space. There must be at least two spaces between the
option(s) and the description. The description may contain multiple
body elements. The first line after the option marker determines the
indentation of the description. As with other types of lists, blank
lines are required before the first option list item and after the
last, but are optional between option entries. For example::

    -a         Output all.
    -b         Output both (this description is
               quite long).
    -c arg     Output just arg.
    --long     Output all day long.
    -2, --two  This option has two variants.
    /V         A DOS-style option.
    /DIRECTORY  A VMS-syle option. Note the adjustment for the required
                two spaces.

    --very-long-option
               The description can also start on the next line.

    -p         This option has two paragraphs in the description.
               This is the first.

               This is the second.
d922 5
a926 5
    +--------------------------------+-------------+
    | "-" letter [" " argument] "  " | description |
    +-------+------------------------+             |
            | (body elements)+                     |
            +--------------------------------------+
d949 1
a949 1
    is outside of the literal block, and therefore treated as an
d959 2
a960 2
output, leaving only one (i.e., "::" will be replaced by ":"; the
"fully minimized" form).
d1012 1
a1012 1
    This is an ordinary paragraph, introducing a block quote:
d1016 1
a1016 1
        --Sherlock Holmes
d1040 2
a1041 2
an elegant and powerful testing environment via the doctest_ module in
the Python standard library.
d1043 1
a1043 1
Doctest blocks are text blocks which begin with ">>> ", the Python
d1460 3
a1462 1
DTD element: directive.
d1477 2
a1478 2
  a literal block, and a warning generated. Thus "::" is a natural
  choice.
d1527 1
a1527 1
system warnings.
d1531 5
a1535 5
    +-------+----------------------+
    | ".. " | type "::" directive  |
    +-------+ block                |
            |                      |
            +----------------------+
d1575 5
a1579 5
    +-------+---------------------------+
    | ".. " | "|" text "| " directive   |
    +-------+ type "::" directive       |
            | block                     |
            +---------------------------+
d1769 1
a1769 1
   removed, and level-1 (info) system warnings are inserted.
d1772 1
a1772 1
   (info) system warnings inserted. For example, if two or more
d1778 1
a1778 1
   (warning) system warnings are inserted. Exception: duplicate
d1782 1
a1782 1
System warnings are inserted where target links have been removed. See
d1787 1
a1787 1
can warn of unresolvable links, giving reasons for the warnings.
d1810 2
a1811 2
- `hyperlink references`_: "" and "_" (single words), or "`" and
  "\`_" (phrases)
d1858 1
a1858 1
Only those who understand the escaping and inline markup rules may
d2157 2
d2177 2
a2178 1
.. _doctest: http://www.python.org/doc/current/lib/module-doctest.html
@


1.37
log
@updated
@
text
@d6 2
a7 2
:Revision: $Revision: 1.36 $
:Date: $Date: 2002/02/20 04:22:55 $
d160 1
a160 1
      .. graphic:: mylogo.png
d771 1
a771 1
the corresponding DTD elements, becoming child elements of the
d792 3
a794 3
- "Abstract": abstract. May contain arbitrary body elements. The
  abstract always becomes the last child of the docinfo element. Only
  one abstract is allowed.
@


1.36
log
@typo
@
text
@d6 2
a7 2
:Revision: $Revision: 1.35 $
:Date: $Date: 2002/02/12 02:24:53 $
d629 1
a629 1
   warning).
d839 2
a840 1
descriptions. There are three types of options:
d850 6
d864 1
a864 1
or (in most cases) an equals sign may be used as a separator between
d866 1
a866 1
the valid combinations (empty cells are invalid):
d869 1
a869 1
|               | Option   | Option & Argument Separator |
d873 1
a873 1
| Short POSIX   | -o       | -o arg       |              |
d900 3
d1028 1
a1028 1
an elegant and powerful testing environment via the doctest module in
d2157 2
d2161 4
a2164 2
.. _Grouch: http://www.mems-exchange.org/software/grouch/
.. _RFC822: http://www.rfc-editor.org/rfc/rfc822.txt
@


1.35
log
@  - Clarified field arguments.  - Fixed warning levels.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.34 $
:Date: $Date: 2002/02/07 01:53:41 $
d703 1
a703 1
       | defninition               |
@


1.34
log
@*** empty log message ***
@
text
@d6 2
a7 2
:Revision: $Revision: 1.33 $
:Date: $Date: 2002/02/06 02:21:05 $
d737 7
d1502 1
a1502 1
document elements. Unknown directives will trigger level-2 (error)
d1745 1
a1745 1
   removed, and level-0 system warnings are inserted.
d1747 4
a1750 4
2. Duplicate implicit hyperlink targets are removed, and level-0
   system warnings inserted. For example, if two or more sections have
   the same title (such as "Introduction" subsections of a
   rigidly-structured document), there will be duplicate implicit
d1753 4
a1756 4
3. Duplicate explicit hyperlink targets are removed, and level-1
   system warnings are inserted. Exception: duplicate `external
   hyperlink targets`_ (identical hyperlink names and referenced URIs)
   do not conflict, and are not removed.
@


1.33
log
@Added to RCS keyword section.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.32 $
:Date: $Date: 2002/01/16 06:20:40 $
d1840 1
a1840 1
  trailing "`_") and `interpreted text`_ ("`").
@


1.32
log
@updated
@
text
@d6 2
a7 2
:Revision: $Revision: 1.30 $
:Date: $Date: 2001/11/22 04:21:02 $
d763 1
a763 1
Registered field names listed below are recognized and transformed to
d808 12
d2136 1
a2136 1
.. _gpdi.dtd: http://docstring.sourceforge.net/spec/gpdi.dtd
@


1.31
log
@updated
@
text
@d386 1
a386 1
choose to run one or more optional post-parse transformations_,
d395 2
a396 3
the "document title" can become the document subtitle. See "Section
Promotion: Document Title & Subtitle" in `DPS Tree Transforms`_ for
details.
d790 2
a791 2
other languages. See the `DPS Tree Transforms`_ and parser
implementation documentation for details.
a811 2
For details, see the `DPS Tree Transforms`_ document.

d2125 5
a2129 3
.. _transformations:
.. _DPS Tree Transforms:
   http://docstring.sourceforge.net/spec/transforms.txt
@


1.30
log
@  - Added --debug/-d option.  - Minor fixes.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.29 $
:Date: $Date: 2001/11/19 04:18:41 $
d99 1
a99 1
         -a            option "a"
d101 1
d103 3
a105 2
         --input=file  long options can also have arguments
         /V            DOS/VMS-style arguments too
d1229 1
a1229 1
These are also called explicit hyperlink targets, to differentiate
d1721 2
a1722 1
hyperlink targets behave identically to explicit `hyperlink targets`_.
d1725 1
a1725 2
explicit reference names are avoided because the reStructuredText
parser follows these rules:
d1727 14
a1740 13
1. Explicit hyperlink targets override any implicit targets having the
   same reference name. The implicit hyperlink targets are removed,
   and level-0 system warnings are inserted.

2. If two or more sections have the same title (such as "Introduction"
   subsections of a rigidly-structured document), there will be
   duplicate implicit target reference names. Solution: all duplicate
   hyperlink targets are removed, and level-0 system warnings
   inserted.

3. If there are duplicate explicit hyperlink target names which do not
   refer to identical URIs, all duplicates are removed, and level-1
   system warnings inserted.
@


1.29
log
@  - Added to table description.  - Changed 'substitution' to 'substitution definition'.  - Changed substitution syntax from '`/' & '/`' to '|'.  - Added substitution mechanism use cases contributed by Alan    Jaffray.  - Improved inline markup generic description.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.28 $
:Date: $Date: 2001/11/13 03:13:53 $
d1788 3
a1790 2
   followed by whitespace, single or double quotes, ".", ",", ":",
   ";", "!", "?", "-", ")", "]", "}", or ">".
@


1.28
log
@- Added inline markup recognition order info.- Added to descriptions of interpreted text, directives, and substitutions.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.26 $
:Date: $Date: 2001/11/08 02:41:48 $
d56 2
a57 2
      (example_), footnote references ([1]_), subsitution
      references (`/symbol/`), and _`inline hyperlink targets`.
d160 1
a160 1
- Substitutions_::
d162 1
a162 1
      .. /symbol/ image:: symbol.png
d168 1
a168 1
         targets, directives, or substitutions.
d343 3
a345 3
more space-separated words) are called "phrase-links". Phrase-links
are expressed by enclosing the phrase in backquotes and treating
the backquoted text as a reference name::
d1035 4
a1038 3
Each table cell is treated as a miniature document; the top and
bottom cell boundaries act as delimiting blank lines. Each cell
contains zero or more body elements. Example::
d1058 46
d1341 6
a1346 6
   if a phrase-link is used in the link block it must be enclosed in
   backquotes. As with `external hyperlink targets`_, the link block
   of an indirect hyperlink target may begin on the same line as the
   explicit markup start or the next line. It may also be split over
   multiple lines, in which case the lines are joined with whitespace
   before being normalized.
d1496 2
a1497 2
Substitutions
`````````````
d1499 1
a1499 1
DTD element: substitution.
d1501 6
a1506 5
Substitutions are indicated by an explicit markup start (".. ")
followed by a slash, the substitution name, another slash, whitespace,
and the substitution block.  Substitution names are simple `reference
names`_ (case-insensitive single words consisting of alphanumerics
plus internal hyphens, underscores, and periods; no whitespace).
d1508 2
a1509 15
`Substitution references`_ are replaced in-line by the processed
contents of the corresponding substitution block (matching
substitution names).  Substitutions allow the power and flexibility of
directives_ to be shared by inline text.  They are a way to include
arbitrarily complex inline objects within text, while keeping the
details out of the flow of text.  They are the equivalent of
SGML/XML's named entities.

Substitutions allow arbitrary text-level (inline) structures, the way
directives allow arbitrary block-level structures.  They could be
called "indirect inline directives".  Without substitutions, every
time someone wants an application-specific new inline structure, they
would have to petition for a syntax change.  In combination with
existing directive syntax, any inline structure can be coded without
new syntax (except possibly a new directive).
d1511 1
a1511 2
A substitution block contains a nested inline-compatible directive
(without the leading ".. "), such as an image.  For example::
d1513 2
a1514 2
    The `/biohazard/` symbol must be used on containers used to
    dispose of medical waste.
d1516 14
a1529 4
    .. /biohazard/ image:: biohazard.png

It is an error for a substitution block to directly or indirectly
contain a circular substitution reference. 
d1534 1
a1534 1
    | ".. " | "/" name "/ " directive   |
d1539 146
d1751 5
a1755 1
Inline markup cannot be nested.
d1757 15
a1771 7
There are nine inline markup constructs. Four of the constructs
(emphasis_, `strong emphasis`_, `interpreted text`_, and `inline
literals`_) use identical start-strings and end-strings to indicate
the markup.  `Inline hyperlink targets`_, `footnote references`_,
`hyperlink references`_, and `substitution references`_ use different
start-strings and end-strings.  `Standalone hyperlinks`_ are
recognized implicitly, and use no extra markup.
d1774 2
a1775 1
follows:
d1801 1
a1801 1
   literals`_. See `escaping mechanism`_ above for details.
d1808 3
a1810 3
allow 90% of legitimate uses of "*" and "`" *without* resorting to
backslashes. For 9 of the remaining 10%, use inline literals or
literal blocks::
d1819 1
a1819 1
each character. The inline markup recognition order is as follows:
d1824 4
a1827 5
- Backquotes: `Inline literals`_ ("``"), `substitution references`_
  (leading "`/", trailing "/`"), `inline hyperlink targets`_ (leading
  "_`", trailing "`"), are mutually independent, and are recognized
  before phrase `hyperlink references`_ (leading "`", trailing "`_")
  and `interpreted text`_ ("`").
d1833 3
d1929 1
a1929 1
is important, literal blocks should be used.
d1945 1
a1945 1
  - Start-string = "`", end-string = "\`_". (Phrase links.)
d1950 1
a1950 1
  - Start-string = "`", end-string = "\`__". (Phrase links.)
d2024 1
a2024 1
Start-string = "`/", end-string = "/`" (optionally followed by "_" or
d2027 4
a2030 6
Substitution references use a variant of the `interpreted text`_
syntax, with a backquote, a forward slash, the substitution name (a
simple reference name; see `Reference Names`_), a forward slash, and a
backquote.  A substitution may also be a reference by appending a "_"
(named) or "__" (anonymous) suffix; the substitution name is used for
the reference name in the named case.
d2033 2
a2034 2
processed contents of the corresponding substitutions_.  Substitutions
are inline-compatible elements.
d2038 1
a2038 1
    This is a simple `/substitution/`.  It will be replaced by the
d2041 1
a2041 1
    This is a combination `/substitution-and-reference/`_.  In
d2043 1
a2043 1
    refer to the "substitution-and-reference" target.
d2140 1
@


1.27
log
@Updated descriptions substitutions & references.
@
text
@d1407 6
a1412 3
Directives can be used as an extension mechanism for reStructuredText,
a way of adding support for new constructs without adding new syntax.
For example, here's how an image could be placed::
d1461 6
a1466 5
contents of the corresponding substitution block.  Substitutions allow
the power and flexibility of directives to be shared by inline text.
They are a way to include arbitrarily complex inline objects within
text, while keeping the details out of the flow of text.  They are the
equivalent of SGML/XML's named entities.
d1469 6
a1474 5
directives allow arbitrary block-level structures.  Without them,
every time someone wants a specific new inline structure, they would
have to petition for a syntax change.  In combination with existing
directive syntax, any inline structure can be coded without new syntax
(except possibly a new directive).
d1614 19
d1673 14
a1686 10
The semantics of interpreted text are domain-dependent. It can be used
as implicit or explicit descriptive markup (such as for program
identifiers, as in the `Python Source Reader`_), for cross-reference
interpretation (such as index entries), or for other applications
where context can be inferred.

The role of the interpreted text is normally inferred implicitly. The
role of the interpreted text may also be indicated explicitly, using a
role marker, either as a prefix or as a suffix to the interpreted
text, depending on which reads better::
d1691 5
@


1.26
log
@Substitutions: fixed title underline (thanks Tony), added explanatory text.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.25 $
:Date: $Date: 2001/11/06 00:48:50 $
a161 1
      .. /text/ This is substitution text.
d1457 6
a1462 6
`Substitution references`_ are replaced in-line by the contents of the
corresponding substitution block.  Substitutions allow the power and
flexibility of directives to be shared by inline text.  They are a way
to include boilerplate text and arbitrarily complex inline objects
within text, while keeping the details out of the flow of text.  They
are the equivalent of SGML/XML's named entities.
d1468 1
a1468 1
constructs, any inline structure can be coded without new syntax
d1471 2
a1472 9
A substitution block may contain either replacement text (from a
single word to an entire paragraph) or a nested inline-compatible
directive (without the ".. "), such as an image.  For example::

    Here is some `/boilerplate/`.

    .. /boilerplate/
       replacement text to be *inserted* at the point of the
       substitution reference
d1485 3
a1487 3
    | ".. " | "/" name "/" substitution |
    +-------+ block                     |
            |                           |
d1797 2
a1798 2
contents of the corresponding substitutions_.  Substitutions may be
replacement text or inline-compatible elements.
@


1.25
log
@  - Added substitutions, substitution references.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.24 $
:Date: $Date: 2001/11/01 04:08:29 $
d1448 1
a1448 1
=============
d1458 1
a1458 1
`Substitution References`_ are replaced in-line by the contents of the
d1464 7
@


1.24
log
@  - Added support for IPv6 URIs.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.23 $
:Date: $Date: 2001/10/31 05:50:41 $
d40 7
a46 4
A reStructuredText document is made up of body elements, and may be
structured into sections. `Section Structure`_ is indicated through
title style (underlines & optional overlines). Sections contain body
elements and/or subsections.
d48 1
a48 1
Here are examples of body elements:
d56 2
a57 2
      (example_), footnote references ([1]_), and _`inline hyperlink
      targets`.
d160 5
d169 1
a169 1
         targets, and directives, described above.
d1331 1
a1331 1
    +-------+              block   |
d1442 1
a1442 1
    +-------+           block      |
d1447 45
d1514 2
a1515 2
    | ".. " | comment block        |
    +-------+                      |
d1559 1
a1559 1
There are eight inline markup constructs. Four of the constructs
d1562 4
a1565 4
the markup. The `inline hyperlink targets`_, `footnote references`_
and `hyperlink references`_ use different start-strings and
end-strings.  `Standalone hyperlinks`_ are recognized implicitly, and
use no extra markup.
d1780 29
@


1.23
log
@  - Changed "hyperlink names" to "reference names".  - Changed "link" element to "reference".
@
text
@d6 2
a7 2
:Revision: $Revision: 1.22 $
:Date: $Date: 2001/10/27 05:27:26 $
d1396 3
a1398 5
No directives are defined in the core reStructuredText
specification. Directives which have been implemented and registered
in the reference reStructuredText parser are described in the
`reStructuredText Directives`_ document. Below are examples of
implemented directives.
d1778 1
a1778 1
   recognize any absolute URI, as defined in RFC2396_.
d1788 2
a1789 1
   (Uniform Resource Locators). For the syntax of URIs see RFC2396_.
a1813 1
.. _RFC2396: http://www.rfc-editor.org/rfc/rfc2396.txt
d1821 2
@


1.22
log
@  - Added inline hyperlink targets.  - Clarified indentation rules.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.21 $
:Date: $Date: 2001/10/20 02:43:47 $
d326 38
d1081 1
a1081 1
- simple `hyperlink names`_ (case-insensitive single words consisting
d1087 1
a1087 1
- a "#" followed by a simple hyperlink name, an "autonumber label".
d1106 1
a1106 1
their footnote label and hyperlink name. See `Implicit Hyperlink
d1142 2
a1143 1
  than once, as a footnote reference or hyperlink. For example::
d1147 2
a1148 1
    We can also refer to it as note_ (an ordinary internal hyperlink).
d1181 1
a1181 1
hyperlink name (no trailing underscore), a colon, whitespace, and a
d1186 2
a1187 2
Hyperlink names are whitespace-neutral and case-insensitive. See
`Hyperlink Names`_ for details and examples.
d1191 1
a1191 1
is no hyperlink name::
d1303 1
a1303 1
If a hyperlink name contains a colon followed by whitespace, either:
d1317 1
a1317 1
duplicate hyperlink names.
d1345 1
a1345 1
Anonymous targets begin with ".. __:"; no hyperlink name is required
d1355 1
a1355 1
The hyperlink name of the reference is not used to match the reference
d1477 1
a1477 1
explicit hyperlink names are avoided because the reStructuredText
d1481 1
a1481 1
   same hyperlink name. The implicit hyperlink targets are removed,
d1486 1
a1486 1
   duplicate implicit target hyperlink names. Solution: all duplicate
d1649 2
a1650 2
Hyperlinks
----------
d1652 1
a1652 5
Hyperlinks are indicated by a trailing underscore, "_", except for
`standalone hyperlinks`_ which are recognized independently. The
underscore can be thought of as a right-pointing arrow. The trailing
underscores point away from hyperlink references, and the leading
underscores point toward `hyperlink targets`_.
d1654 1
d1656 2
a1657 2
Hyperlink Names
```````````````
d1659 1
a1659 4
Simple hyperlink names are single words consisting of alphanumerics
plus internal hypens, underscores, and periods; no whitespace or other
characters are allowed. Footnote labels and `interpreted text`_ roles
have the same syntax as simple hyperlink names.
d1661 2
a1662 4
Hyperlink names using punctuation or whose names are phrases (two or
more space-separated words) are called "phrase-links". Phrase-links
are expressed by enclosing the phrase in backquotes and treating
the backquoted text as a link name::
d1664 5
a1668 1
    Want to learn about `my favorite programming language`_?
d1670 3
a1672 1
    .. _my favorite programming language: http://www.python.org
d1674 1
a1674 1
Simple hyperlink names may also optionally use backquotes.
d1676 2
a1677 2
Hyperlink names are whitespace-neutral and case-insensitive. When
resolving hyperlink names internally:
d1679 3
a1681 13
- whitespace is normalized (one or more spaces, horizontal or vertical
  tabs, newlines, carriage returns, or form feeds, are interpreted as
  a single space), and

- case is normalized (all alphabetic characters are converted to
  lowercase).

For example, the following hyperlinks are equivalent::

    - `A HYPERLINK`_
    - `a    hyperlink`_
    - `A
      Hyperlink`_
d1685 1
a1685 1
````````````````````````
d1703 1
a1703 30
hyperlink names.


Hyperlink References
````````````````````

DTD element: link.

- Named hyperlink references:

  - Start-string = "" (empty string), end-string = "_".
  - Start-string = "`", end-string = "\`_". (Phrase links.)

- Anonymous hyperlink references:

  - Start-string = "" (empty string), end-string = "__".
  - Start-string = "`", end-string = "\`__". (Phrase links.)

Hyperlinks consist of two parts. In the text body, there is a source
link, a hyperlink name with a trailing underscore (or two underscores
for `anonymous hyperlinks`_)::

    See the Python_ home page for info.

A target link with a matching hyperlink name must exist somewhere else
in the document. See `Hyperlink Targets`_ for a full description).

`Anonymous hyperlinks`_ (which see) do not use hyperlink names to
match references to targets, but otherwise behave similarly to named
hyperlinks.
d1707 1
a1707 1
```````````````````
d1716 1
a1716 1
- simple `hyperlink names`_ (case-insensitive single words, consisting
d1722 1
a1722 1
- a "#" followed by a simple hyperlink name, an "autonumber label".
d1732 1
a1732 1
`````````````````````
@


1.21
log
@  - Removed element hierarchy diagram to dps/spec/doctree.txt.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.20 $
:Date: $Date: 2001/10/18 03:48:34 $
d53 2
a54 1
      (example_), footnote references ([1]_).
d142 2
a143 3
      .. [1] A footnote contains indented body elements.

         It is a form of hyperlink target.
d177 10
d195 4
d212 71
a282 2
Spaces are recommended for indentation, but tabs may also be used.
Tabs will be converted to spaces. Tab stops are at every 8th column.
d284 4
a287 2
Other whitespace characters (form feeds [chr(12)] and vertical tabs
[chr(11)]) are converted to single spaces before processing.
d336 3
a338 3
simple container for a document fragment, consisting of sections_,
divisions_, and `body elements`_, but lacking a document title or
other bibliographic elements. The code that calls the parser may
d370 1
a370 1
.. [#] The following are all valid section header underline/overline
d441 1
a441 1
Sections may contain `body elements`_, divisions_, and nested
d445 2
a446 2
Divisions
---------
d448 1
a448 1
DTD element: division.
d456 10
a465 5
Text divisions are commonly seen in novels and short fiction.  The
syntax for the beginning of an untitled division is a horizontal line
of 4 or more repeated punctuation characters, a division marker.  The
syntax is the same as section title underlines without title text.
Division markers require blank lines before and after::
d473 3
a475 4
Unlike sections, divisions may not contain other divisions or
sections, only body elements; they are not a recursive structure.  No
hierarchy of division markers is enforced, although it is recommended
that a single consistent style be used.
d477 2
a478 2
The processing system is free to render division markers in output in
any way it likes.  For example, horizontal rules (<HR>) in HTML output
d513 3
a515 1
whitespace, is a bullet list item (a.k.a. "unordered" list item). For
d520 1
a520 2
      (such as below this paragraph) are optional. Text blocks must be
      left-aligned, indented relative to the bullet.
d677 2
a678 1
For example::
d687 2
a688 1
       with the first line, but must line up with each other.
d780 1
a780 2
- Short DOS/VMS options consist of a slash and an option letter.
- Long DOS/VMS options consist of a slash and an option word.
d793 4
a796 4
syntax should be explained in the description text. A variety of
separators may be used between options and option argument
placeholders. The following table details the valid combinations
(empty cells are invalid):
d807 3
a809 3
| Short DOS/VMS | /O       | /O arg       |              |
+---------------+----------+--------------+--------------+
| Long DOS/VMS  | /OPTION  | /OPTION arg  | /OPTION=arg  |
d815 4
a818 3
body elements. As with other types of lists, blank lines are required
before the first option list item and after the last, but are optional
between option entries. For example::
d1025 4
a1028 3
as the bullet. Blank lines are required between explicit markup blocks
and other elements, but are optional between explicit markup blocks
where unambiguous.
d1053 2
a1054 1
begin on a new line, consistently indented and left-aligned.
d1133 1
a1133 1
These are also called "explicit hyperlink targets", to differentiate
d1136 3
d1142 6
a1147 2
link block. Hyperlink names are whitespace-neutral and
case-insensitive. See `Hyperlink Names`_ for details and examples.
d1151 3
a1153 1
is no hyperlink name. See `Anonymous Hyperlinks`_ below.
d1155 2
a1156 1
To differentiate hyperlink targets from footnotes:
d1158 3
a1160 3
- square brackets are not used,
- hyperlink names may contain whitespace,
- a colon is required after the hyperlink name.
d1165 2
a1166 2
1. Internal hyperlink targets have empty link blocks. They provide an
   end point allowing a hyperlink to connect one place to another
d1197 4
a1200 1
2. External hyperlink targets have an absolute or relative URI in
d1222 1
a1222 2
                                structuredtext.
                                sourceforge.net
d1236 2
a1237 2
3. Indirect hyperlink targets have a hyperlink reference in their link
   blocks. In the following example, target "one" indirectly
d1247 6
a1252 5
   if a phrase-link is used it must be enclosed in backquotes. As with
   external hyperlinks, the link block of an indirect hyperlink target
   may begin on the same line as the explicit markup start or the next
   line. It may also be split over multiple lines, in which case the
   lines are joined with whitespace before being normalized.
d1261 1
a1261 1
                  Hyperlink`_
d1310 5
d1406 13
a1418 12
Arbitrary indented text may follow the explicit markup start and will be
processed as a comment element. No further processing is done on the
comment block text; a comment contains a single "text blob". Depending
on the output formatter, comments may be removed from the processed
output. The only restriction on comments is that they not use the same
syntax as directives, footnotes, or hyperlink targets.

A comment start followed by a blank line and nothing else (apart from
whitespace) is an "empty comment". It serves to terminate a preceding
construct, and does **not** consume any indented text following. To
have a block quote follow a list or any indented construct, insert an
unindented empty comment in-between.
d1471 4
a1474 3
the markup. The `footnote references`_ and `hyperlink references`_ use
different start-strings and end-strings.  `Standalone hyperlinks`_ are
recognized implicitly, and use no extra markup.
d1656 22
d1755 5
a1759 3
   - The scheme is the name of the protocol, such as "http", "ftp",
     "mailto", or "telnet". The scheme consists of an initial letter,
     followed by letters, numbers, and/or "+", "-", ".".
d1761 2
a1762 2
   - The scheme-specific part of the resource identifier may be either
     hierarchical or opaque.
d1764 3
a1766 3
     - Hierarchical identifiers begin with one or two slashes and may
       use slashes to separate hierarchical components of the path.
       Examples are web pages and FTP sites:
d1768 1
a1768 1
           http://www.python.org
d1770 1
a1770 1
           ftp://ftp.python.org/pub/python
d1772 2
a1773 2
     - Opaque identifiers do not begin with slashes. Examples are
       email addresses and newsgroups::
d1775 1
a1775 1
           mailto:someone@@somewhere.com
d1777 1
a1777 1
           news:comp.lang.python
d1804 1
a1804 1
    http://docstring.sourceforge.net
d1806 1
a1806 1
    http://docstring.sourceforge.net/spec/doctree.txt
d1811 1
a1811 1
    http://docstring.sourceforge.net/spec/transforms.txt
d1814 2
d1819 1
a1819 1
    http://www.w3.org/TR/WCAG10-HTML-TECHS/#link-text
d1821 1
a1821 1
    http://structuredtext.sourceforge.net/spec/directives.txt
d1823 1
a1823 1
    http://docstring.sourceforge.net/spec/pysource.txt
@


1.20
log
@  - Changed 'indirect hyperlinks' to 'external hyperlinks'.  - Added new 'indrect hyperlinks'.  - Added 'anonymous hyperlinks'.  - Rearranged hyperlink description.  - Added 'Document Structure' section.  - Added 'division' construct.  - Moved (high-level) description of bibliographic field lists.  - Removed other descriptions of tree transforms (to    dps/spec/transforms.txt).
@
text
@d6 2
a7 2
:Revision: $Revision: 1.19 $
:Date: $Date: 2001/09/28 04:59:27 $
a167 26
Below is a diagram of the hierarchy of element types in
reStructuredText. Elements may contain other elements below them.
Element types in parentheses indicate recursive or one-to-many
relationships: sections may contain (sub)sections, tables contain
further body elements, etc. ::

    +--------------------------------------------------------------------+
    | document                                                           |
    |                             +--------------------------------------+
    | [root element]              |                           +-------+  |
    |                             | sections  [begin with one | title |] |
    |                             |                           +-------+  |
    |-----------------------------+-------------------------+------------|
    | [body elements:]                                      | (sections) |
    |         | - literal | - lists  |       | - hyperlink  +------------+
    |         |   blocks  | - tables |       |   targets    |
    | para-   | - doctest | - block  | foot- | - directives |
    | graphs  |   blocks  |   quotes | notes | - comments   |
    +---------+-----------+----------+-------+--------------+
    | [text]+ | [text]    | (body elements)  | [text]       |
    | (inline +-----------+------------------+--------------+
    | markup) |
    +---------+

For definitive element hierarchy details, see the "Generic Plaintext
Document Interface DTD" XML document type definition, gpdi.dtd_.
d169 3
a171 1
corresponding to syntax constructs.
d1667 3
a1669 1
.. _Doc-SIG: http://www.python.org/sigs/doc-sig/
@


1.19
log
@  - Added to definition list & option list descriptions    (from Tibs' suggestions).
@
text
@d6 2
a7 2
:Revision: $Revision: 1.18 $
:Date: $Date: 2001/09/26 03:37:26 $
d52 1
a52 1
      indirect hyperlinks (Python_), internal cross-references
a197 15
Document
========

DTD element: document.

The top-level element of a parsed reStructuredText document is the
"document" element. After initial parsing, the document element is a
simple container for a document fragment, consisting of sections and
body elements, but lacking a document title or other bibliographic
elements. The code that calls the parser may choose to run one or more
optional `post-parse transformations`_, rearranging the document
fragment into a complete document with a title and possibly other
metadata elements (author, date, etc.).


d265 29
a293 2
Section Structure
=================
d380 36
d625 2
a626 2
`Bibliographic Field Lists`_ below. Any untransformed fields remain in
a generic field list.
d637 64
d712 2
a713 2
- DOS options consist of a slash and an option letter.
- VMS options consist of a slash and an option word.
d715 9
a723 9
(Please note that POSIX-style and VMS-style options may also be used
by DOS or Windows software. The names above have been chosen for
convenience only.)

Although long POSIX option words and VMS option words may be allowed
to be truncated by the operating system or the application,
reStructuredText option lists do not show or support this with any
special syntax. The complete option word should be given, supported by
notes about truncation if and when applicable.
d727 17
a743 16
separators may be used before argument placeholders. The following
table details the valid combinations (empty cells are invalid):

+-------------+----------+-------------------------------------------+
|             | Option   | Separator (between option & argument)     |
|             | With No  +--------------+--------------+-------------+
| Option Type | Argument | Space (" ")  | Equals ("=") | Colon (":") |
+=============+==========+==============+==============+=============+
| Short POSIX | -o       | -o arg       |              |             |
+-------------+----------+--------------+--------------+-------------+
| Long POSIX  | --option | --option arg | --option=arg |             |
+-------------+----------+--------------+--------------+-------------+
| DOS         | /O       | /O arg       |              |             |
+-------------+----------+--------------+--------------+-------------+
| VMS         | /OPTION  | /OPTION arg  | /OPTION=arg  | /OPTION:arg |
+-------------+----------+--------------+--------------+-------------+
d954 1
a954 1
- which ends with an unindented line.
d987 4
a990 2
Where or how they appear in the processed output depends on the output
formatter. Here is a footnote, referred to in `Footnote References`_::
d1063 2
a1064 5
Hyperlink targets consist of an explicit markup start (".. "), an
underscore, the hyperlink name (no trailing underscore), a colon,
whitespace, and a link block. These are also called "explicit
hyperlink targets", to differentiate them from `implicit hyperlink
targets`_ defined below.
d1066 9
a1074 2
Hyperlink names are whitespace-neutral and case-insensitive. See
`Hyperlink Names`_ below for details and examples.
d1082 97
a1178 21
Hyperlink targets go together with `indirect hyperlinks`_ and
`internal hyperlinks`_. Internal hyperlink targets have empty link
blocks; they point to the next element. Indirect hyperlink targets
have an absolute or relative URI in their link blocks.

An indirect hyperlink's URI may begin on the same line as the explicit
markup start and target name, or it may begin in an indented text
block immediately following, with no intervening blank lines. If there
are multiple lines in the link block, they are stripped of leading and
trailing whitespace and joined together. The following indirect
hyperlink targets are equivalent::

    .. _one-liner: http://structuredtext.sourceforge.net

    .. _starts-on-this-line: http://
                             structuredtext.
                             sourceforge.net

    .. _entirely-below:
       http://structuredtext.
       sourceforge.net
d1205 2
a1206 27
Implicit Hyperlink Targets
``````````````````````````

Implicit hyperlink targets are generated by section titles and
footnotes, and may also be generated by extension constructs. Implicit
hyperlink targets behave identically to explicit `hyperlink targets`_.

Problems of ambiguity due to conflicting duplicate implicit and
explicit hyperlink names are avoided because the reStructuredText
parser follows these rules:

1. Explicit hyperlink targets override any implicit targets having the
   same hyperlink name. The implicit hyperlink targets are removed,
   and level-0 system warnings are inserted.

2. If two or more sections have the same title (such as "Introduction"
   subsections of a rigidly-structured document), there will be
   duplicate implicit target hyperlink names. Solution: all duplicate
   hyperlink targets are removed, and level-0 system warnings
   inserted.

3. If there are duplicate explicit hyperlink target names which do not
   refer to identical URIs, all duplicates are removed, and level-1
   system warnings inserted.

System warnings are inserted where target links have been removed. See
"Error Handling" in `PEP 258`_.
d1208 25
a1232 3
The parser must return a set of *unique* hyperlink targets. The
calling software (such as the `Python Docstring Processing System`_)
can warn of unresolvable links, giving reasons for the warnings.
d1340 33
d1382 3
a1384 4
the markup. The `footnote references`_, `indirect hyperlinks`_, and
`internal hyperlinks`_ use different start-strings and end-strings.
`Standalone hyperlinks`_ are recognized implicitly, and use no extra
markup.
d1471 1
a1471 1
identifiers, as in the `DPS Python Mode`_), for cross-reference
d1566 2
a1567 2
Indirect Hyperlinks
```````````````````
d1571 1
a1571 2
- Start-string = "" (empty string), end-string: "_".
- Start-string = "`", end-string: = "\`_". (Phrase links.)
d1573 2
a1574 2
Indirect hyperlinks consist of two parts. In the text body, there is a
source link, a hyperlink name with a trailing underscore::
d1576 1
a1576 1
    See the Python_ home page for info.
d1578 2
a1579 2
A target link containing a URI must exist somewhere else in the
document (see `Hyperlink Targets`_ for a full description)::
d1581 3
a1583 1
    .. _Python: http://www.python.org
d1585 1
a1585 21
After processing into HTML, this might be expressed as::

    See the <A HREF="http://www.python.org">Python</A> home page for
    info.


Internal Hyperlinks
```````````````````

DTD element: link.

- Start-string = "" (empty string), end-string: "_".
- Start-string = "`", end-string: = "\`_".

Internal hyperlinks connect one point to another within a document.
They are identical to `indirect hyperlinks`_ except that there is no
URI in the target link. See `Hyperlink Targets`_ for a full
description. For example::

    Clicking on this internal hyperlink will take us to the target_
    below.
d1587 2
a1588 1
    .. _target:
d1590 3
a1592 1
    The hyperlink target above points to this paragraph.
d1667 1
a1667 1
   recognize any absolute URI, as defined in RFC239_.
a1687 194
----------------------------
 Post-Parse Transformations
----------------------------

Each of the following transformations ties up certain "loose ends"
that remain after the initial parsing of input reStructuredText. Each
is an optional step that the DPS Reader may or may not choose to
perform on the parsed document, depending on the input context. The
DPS Reader may also perform context-specific transformations before
performing these standard transformations.


Section Promotion: Document Title & Subtitle
============================================

In reStructuredText, there is no way to specify a document title and
subtitle explicitly. Instead, we can supply the document title (and
possibly the subtitle as well) implicitly, and use this two-step
transformation to "raise" or "promote" the title(s) (and their
corresponding section contents) to the document level.

1. If the document contains a single top-level section as its first
   non-comment element, the top-level section's title becomes the
   document's title, and the top-level section's contents become the
   document's immediate contents. The lone top-level section header
   must be the first non-comment element in the document.

   For example, take this input text::

       =================
        Top-Level Title
       =================

       A paragraph.

   Once parsed, it looks like this::

       <document>
           <section name="top-level title">
               <title>
                   Top-Level Title
               <paragraph>
                   A paragraph.

   After running the Section Promotion transformation, we have::

       <document name="top-level title">
           <title>
               Top-Level Title
           <paragraph>
               A paragraph.

2. If step 1 successfully determines the document title, we continue
   by checking for a subtitle.

   If the lone top-level section itself contains a single second-level
   section as its first non-comment element, that section's title is
   promoted to the document's subtitle, and that section's contents
   become the document's immediate contents. Given this input text::

       =================
        Top-Level Title
       =================

       Second-Level Title
       ~~~~~~~~~~~~~~~~~~

       A paragraph.

   After parsing and running the Section Promotion transformation, the
   result is::

       <document name="top-level title">
           <title>
               Top-Level Title
           <subtitle name="second-level title">
               Second-Level Title
           <paragraph>
               A paragraph.

   (Note that the implicit hyperlink target generated by the
   "Second-Level Title" is preserved on the "subtitle" element itself.)

Any comment elements occurring before the document title or subtitle
are accumulated and inserted as the first body elements after the
title(s)


Bibliographic Field Lists
=========================

DTD elements: docinfo, author, authors, organization, contact,
version, status, date, copyright, abstract.

It is recommended that this transformation be run *after* the `Section
Promotion: Document Title & Subtitle`_ transformation.

When a field list is the first non-comment element in a document
(after the document title, if there is one), it may have certain
specific fields transformed to document bibliographic data. This
bibliographic data corresponds to the front matter of a book, such as
the title page and copyright page.

Registered field names are recognized and transformed to the
corresponding DTD elements, becoming child elements of the "docinfo"
element. No ordering is required of these fields, although they may be
rearranged to fit the document structure. Unless otherwise indicated
in the list below, each of the bibliographic elements' field bodies
may contain a single paragraph only.

The registered bibliographic field names and their corresponding DTD
elements are as follows:

- Field name "Author": author element.
- "Authors": authors. May contain either: a single paragraph
  consisting of a list of authors, separated by ";" or ","; or a
  bullet list whose elements each contain a single paragraph per
  author.
- "Organization": organization.
- "Contact": contact.
- "Version": version.
- "Status": status.
- "Date": date.
- "Copyright": copyright.
- "Abstract": abstract. May contain arbitrary body elements. The
  abstract always becomes the last child of the docinfo element. Only
  one abstract is allowed.

This field-name-to-element mapping can be extended, or replaced for
other languages. See the implementation documentation for details.


RCS Keywords
------------

Normally [#]_, recognized bibliographic fields are checked for RCS
[#]_ keywords and cleaned up. RCS keywords may be entered into source
files as "$keyword$", and once stored under RCS or CVS [#]_, they are
expanded to "$keyword: expansion text $". For example::

    :status: $keyword: expansion text $

Processed, the "status" element's text will simply be "expansion
text". The dollar signs and leading RCS keyword name are removed.

.. [#] RCS keyword processing can be turned off.
.. [#] Revision Control System.
.. [#] Concurrent Versions System. CVS uses the same keywords as RCS.

The RCS Keywords transformation is run on registered bibliographic
fields only. The sole contents of the field body must be an expanded
RCS keyword, of the form "$keyword: expansion text $". Any RCS keyword
can be processed in any bibliographic field. Extra processing is done
for the following RCS keywords:

- "RCSfile" expands to the name of the file in the RCS or CVS
  repository, which is the name of the source file with a ",v" suffix
  appended. The RCS Keywords transformation will remove the ",v"
  suffix. For example::

      :Status: $RCSfile: reStructuredText.txt,v $

  The "status" element's text will be "reStructuredText.txt".

- "Date" expands to the format "YYYY/MM/DD hh:mm:ss" (in the UTC time
  zone). The RCS Keywords transformation will extract just the date
  itself and transform it to an ISO 8601 format date, as in
  "2000-12-31".

  (Since the source file for this text is itself stored under CVS, we
  can't show an example of the "Date" RCS keyword because we can't
  prevent any RCS keywords used in this explanation from being
  expanded. Only the "RCSfile" keyword is stable; its expansion text
  changes only if the file name changes.)


Footnote Numbering
==================

XXX


Cross-Reference Resolution
==========================

XXX


Indirect Hyperlink Resolution
=============================

XXX


d1693 3
d1699 3
d1705 1
a1705 1
    http://docstring.sourceforge.net/spec/python-source.txt
@


1.18
log
@  - Added section explaining the top-level document element.  - Standardized on double-quotes (").  - Added section on 'Post-Parse Transformations'  - Moved explanation of bibliographic field lists to transformations    section.  - Removed 'title' and 'subtitle' from the list of bibliographic    elements.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.17 $
:Date: $Date: 2001/09/18 04:42:00 $
d466 1
a466 1
1. The enumerators do not all have the same format and sequence type. 
d504 9
a512 9
Each definition list item contains a term and a definition. A term is
a simple one-line word or phrase. An optional classifier may follow
the term on the same line, after " : " (space, colon, space). A
definition is a block indented relative to the term, and may contain
multiple paragraphs and other body elements. There may be no blank
line between a term and a definition (this distinguishes definition
lists from `block quotes`_). Blank lines are required before the first
and after the last definition list item, but are optional in-between.
For example::
d525 13
d596 42
a637 11
descriptions. There are three types of options: short, long, and
VMS/DOS. Short options consist of one dash and an option letter. Long
options consist of two dashes and an option word. VMS/DOS options
consist of a slash an option letter. Each type of option may be
followed by a single space and an argument placeholder. Multiple
command-line options may be listed, separated by comma-space. There
must be at least two spaces between the option(s) and the description.
The description may contain multiple body elements. As with other
types of lists, blank lines are required before the first option list
item and after the last, but are optional between option entries. For
example::
d645 3
a647 1
    /V         A VMS/DOS-style option.
d792 1
a792 1
        module, though! 
d1137 1
a1137 1
empty comment in-between.
d1158 1
a1158 1
`internal hyperlinks`_ use differenct start-strings and end-strings.
d1360 1
a1360 1
After processing into HTML, this would be expressed as::
d1512 1
a1512 1
   
d1514 1
a1514 1
   
d1516 1
a1516 1
   
d1521 1
a1521 1
               <paragraph>        
d1523 1
a1523 1
   
d1525 1
a1525 1
   
d1529 1
a1529 1
           <paragraph>        
d1531 1
a1531 1
   
d1539 1
a1539 1
   
d1543 1
a1543 1
   
d1546 1
a1546 1
   
d1548 1
a1548 1
   
d1551 1
a1551 1
   
d1557 1
a1557 1
           <paragraph>        
d1559 1
a1559 1
   
d1679 1
d1682 1
a1682 1
.. _reStructuredText Directives: 
d1684 2
a1685 2
.. _DPS Python Mode:
    http://docstring.sourceforge.net/spec/python-mode.txt
@


1.17
log
@  - Expanded bibliographic field list handling description.  - Converted footnotes to auto-numbered.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.16 $
:Date: $Date: 2001/09/13 03:39:51 $
d63 1
a63 1
         - Bullets can be '-', '*', or '+'.
d95 1
a95 1
         -a            option 'a'
d107 1
a107 1
      ('::') at the end of the preceding paragraph (right here -->)::
d151 1
a151 1
      The '_example' target above points to this paragraph.
d194 1
a194 1
Descriptions below list 'DTD elements' (XML 'generic identifiers')
d198 15
d221 2
a222 3
document is treated as if it is preceded by a blank line, and the
last line of a document is treated as if it is followed by a blank
line.
d286 2
a287 2
adornment: 'underlines' below the title text, and, in some cases,
matching 'overlines' above the title. An underline/overline is a
d293 1
a293 1
mistaking ellipses ['...'] for overlines). When an overline is used,
d399 2
a400 2
A text block which begins with a '-', '*', or '+', followed by
whitespace, is a bullet list item (a.k.a. 'unordered' list item). For
d437 1
a437 1
    | '- ' | list item             |
d447 1
a447 1
Enumerated lists (a.k.a. 'ordered' lists) are similar to bullet lists,
d460 3
a462 3
- suffixed with a period: '1.', 'A.', 'a.', 'I.', 'i.'.
- surrounded by parentheses: '(1)', '(A)', '(a)', '(I)', '(i)'.
- suffixed with a right-parenthesis: '1)', 'A)', 'a)', 'I)', 'i)'.
d468 1
a468 1
2. The enumerators are not in sequence (i.e., '1.', '3.' generates a
d472 1
a472 1
ordinal-1 ('1', 'A', 'a', 'I', or 'i'). Although other start-values
d475 3
a477 3
Lists using Roman numerals must begin with 'I'/'i' or a
multi-character value, such as 'II' or 'XV'. Any other
single-character Roman numeral ('V', 'X', etc.) will be interpreted as
d479 1
a479 1
using letters of the alphabet may not begin with 'I'/'i', since these
d493 1
a493 1
    | '1. ' | list item            |
d506 1
a506 1
the term on the same line, after ' : ' (space, colon, space). A
d528 1
a528 1
    | term [ ' : ' classifier ] |
d543 1
a543 1
numbers, and punctuation, except colons (':') and whitespace. Field
d563 3
a565 2
transform fields or field bodies in certain contexts. Any
untransformed fields remain in a generic field list.
d570 1
a570 1
    | ':' name (' ' argument)* ':' | field body |
a575 50
Bibliographic Field Lists
`````````````````````````

One special context is defined for field lists. A field list as the
very first non-comment element, or the second non-comment element
immediately after a title, has its fields interpreted as document
bibliographic data. The following field names are recognized and
transformed to the corresponding DTD elements listed, child elements
of the 'document' element. No ordering is imposed on these fields,
although they may be rearranged to fit the document structure:

- Title: title (only one allowed, and only if no title already exists)
- Subtitle: subtitle (only one allowed)
- Author: author
- Authors: authors (a list of author elements, separated by ';' or
  ',')
- Organization: organization
- Contact: contact
- Version: version
- Status: status
- Date: date
- Copyright: copyright
- Abstract: abstract (only one allowed)

This field-name-to-element mapping can be extended, or replaced for
other languages. See the implementation documentation for details.


RCS Keyword Recognition
```````````````````````

In the context of `bibliographic field lists`_, keywords from RCS
(Revision Control System) [#CVS]_ are recognized and stripped of their
excess text. For example::

    :status: $RCSfile: reStructuredText.txt,v $

The field body text will be simply 'reStructuredText.txt'. (The
'RCSfile' keyword was used for this example because its expansion does
not change; this file is under CVS [#CVS]_. The 'status' field name
was used because none of the others fit any better.)

For the 'Date' keyword, the date itself is extracted and transformed
to an ISO 8601-format date, as in '2000-12-31'. All other RCS keywords
simply have the leading keyword name and both dollar-signs removed.

.. [#CVS] CVS (Concurrent Versions System) uses the same keywords as
   RCS.


d611 1
a611 1
    | '-' letter [' ' argument] '  ' | description |
d622 1
a622 1
A paragraph consisting of two colons ('::') signifies that all
d640 1
a640 1
The paragraph containing only '::' will be completely removed from the
d643 1
a643 1
As a convenience, the '::' is recognized at the end of any paragraph.
d646 2
a647 2
immediately precedes the '::', *one* colon will be removed from the
output, leaving only one (i.e., '::' will be replaced by ':'; the
d683 1
a683 1
    | (ends with '::')             |
d731 1
a731 1
Doctest blocks are text blocks which begin with '>>> ', the Python
d757 4
a760 4
'-', '=', '|', and '+'. The hyphen ('-') is used for horizontal lines
(row separators). The equals sign ('=') may be used to separate
optional header rows from the table body. The vertical bar ('|') is
used for vertical lines (column separators). The plus sign ('+') is
d791 2
a792 2
- whose first line begins with '..' followed by whitespace (the
  'explicit markup start'),
d797 1
a797 1
Explicit markup blocks are analogous to bullet list items, with '..'
d811 1
a811 1
Footnotes consist of an explicit markup start ('.. '), a left square
d819 1
a819 1
- a single '#' (denoting `auto-numbered footnotes`_), or
d821 1
a821 1
- a '#' followed by a simple hyperlink name, an "autonumber label".
d843 1
a843 1
    | '.. ' | '[' label ']' footnote  |
d902 1
a902 1
Hyperlink targets consist of an explicit markup start ('.. '), an
d904 2
a905 2
whitespace, and a link block. These are also called 'explicit
hyperlink targets', to differentiate them from `implicit hyperlink
d948 1
a948 1
      .. _Chapter One\: 'Tadpole Days':
d958 1
a958 1
    | '.. ' | '_' name ':' link    |
d990 1
a990 1
'Error Handling' in `PEP 258`_.
d1002 1
a1002 1
Directives are indicated by an explicit markup start ('.. ') followed
d1015 1
a1015 1
  a literal block, and a warning generated. Thus '::' is a natural
d1059 1
a1059 1
Directives normally do not survive as 'directive' elements past the
d1069 1
a1069 1
    | '.. ' | type '::' directive  |
d1096 1
a1096 1
    | '.. ' | comment block        |
d1120 2
a1121 2
   immediately preceded by whitespace, single or double quotes, '(',
   '[', '{', or '<'.
d1130 2
a1131 2
   followed by whitespace, single or double quotes, '.', ',', ':',
   ';', '!', '?', '-', ')', ']', '}', or '>'.
d1134 1
a1134 1
   single or double quote, '(', '[', '{', or '<', it must not be
d1136 1
a1136 1
   ')', ']', '}', or '>'.
d1146 2
a1147 2
markup start-strings: ' * ', '"*"', "'*'", '(*)', '(* ', '[*]', '{*}',
'\*', ' ` ', etc.
d1150 1
a1150 1
allow 90% of legitimate uses of '*' and '`' *without* resorting to
d1165 1
a1165 1
Start-string = end-string = '*'.
d1179 1
a1179 1
Start-string = end-string = '**'.
d1193 1
a1193 1
Start-string = end-string = '`'.
d1225 1
a1225 1
Start-string = end-string = '``'.
d1252 1
a1252 1
Hyperlinks are indicated by a trailing underscore, '_', except for
d1268 1
a1268 1
more space-separated words) are called 'phrase-links'. Phrase-links
d1301 2
a1302 2
- Start-string = '' (empty string), end-string: '_'.
- Start-string = '`', end-string: = '\`_'. (Phrase links.)
d1325 2
a1326 2
- Start-string = '' (empty string), end-string: '_'.
- Start-string = '`', end-string: = '\`_'.
d1346 1
a1346 1
Start-string = '[', end-string = ']_'.
d1355 1
a1355 1
- a single '#' (denoting `auto-numbered footnotes`_), or
d1357 1
a1357 1
- a '#' followed by a simple hyperlink name, an "autonumber label".
d1371 1
a1371 1
Start-string = end-string = '' (empty string).
d1386 1
a1386 1
1. Absolute URIs. These consist of a scheme, a colon (':'), and a
d1389 3
a1391 3
   - The scheme is the name of the protocol, such as 'http', 'ftp',
     'mailto', or 'telnet'. The scheme consists of an initial letter,
     followed by letters, numbers, and/or '+', '-', '.'.
d1416 1
a1416 1
   ablsolute URIs with a 'mailto:' scheme. Example::
d1432 194
@


1.16
log
@  - Expanded definition of directives; added link to new directives.txt.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.15 $
:Date: $Date: 2001/09/01 15:48:19 $
d277 1
a277 1
non-alphanumeric printable 7-bit ASCII character [1]_. An
d283 1
a283 1
.. [1] The following are all valid section header underline/overline
d552 12
d572 2
a573 2
- Title: title
- Subtitle: subtitle
d575 2
a576 1
- Authors: authors (a list of author elements)
d583 1
a583 1
- Abstract: abstract
a587 1
Syntax diagram (simplified)::
d589 20
a608 5
    +------------------------------+------------+
    | ':' name (' ' argument)* ':' | field body |
    +-------+----------------------+            |
            | (body elements)+                  |
            +-----------------------------------+
d1067 3
a1069 2
are described in the `reStructuredText Directives`_ document. Below
are examples of implemented directives.
d1408 1
a1408 1
A URI (absolute URI [URI]_ or standalone email address) within a text
d1457 1
a1457 1
.. [URI] Uniform Resource Identifier. URIs are a general form of URLs
@


1.15
log
@emacs stanza; minor changes
@
text
@d6 2
a7 2
:Revision: $Revision: 1.13 $
:Date: $Date: 2001/08/23 04:10:15 $
d824 1
a824 1
  of alphanumerics plus hyphens, underscores, and periods; no
d1012 3
a1014 3
case-insensitive single words (alphanumerics plus hyphens and
underscores; no whitespace). Two colons are used after the directive
type for these reasons:
d1026 6
a1031 1
Actions taken in response to directives and the interpretation of data
d1033 9
a1041 3
directive-dependent. No directives have been defined by the core
reStructuredText specification. The following are only examples of
*possible uses* of directives.
d1045 1
a1045 1
For example, here's how a graphic could be placed::
d1047 1
a1047 1
    .. graphic:: mylogo.png
d1052 1
d1054 5
a1058 1
       The larch.
d1060 12
a1071 2
Directives can also be used as pragmas, to modify the behavior of the
parser, such as to experiment with alternate syntax.
d1448 2
@


1.14
log
@  - Updated whitespace section.  - Added classifier to definition list items.  - Reworked literal block section in a more logical and    easy-to-remember way.
@
text
@d653 1
a653 1
from the output (this is the "partly minimized" form). When text
d669 1
a669 1
2. Partly minimized form::
d1427 7
a1433 5
Local Variables:
mode: indented-text
indent-tabs-mode: nil
fill-column: 70
End:
@


1.13
log
@  - Added a note about backslashes in other contexts.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.12 $
:Date: $Date: 2001/08/22 03:50:27 $
d107 1
a107 1
      ('::') at the end of the preceding paragraph::
d215 3
a217 2
- block quotes, and
- the extent of literal blocks.
d226 3
d255 2
a256 1
address the issue of the representation or extraction of text input.
d259 1
a259 1
example, Python  uses backslashes in strings to escape certain
d487 2
a488 1
DTD elements: definition_list, definition_list_item, term, definition.
d491 8
a498 6
a simple one-line paragraph. A definition is a block indented relative
to the term, and may contain multiple paragraphs and other body
elements. There may be no blank line between a term and a definition
(this distinguishes definition lists from `block quotes`_). Blank
lines are required before the first and after the last definition list
item, but are optional in-between. For example::
d508 3
d513 3
a515 3
    +------+
    | term |
    +--+---+-----------------------+
d630 1
a630 1
Two colons ('::') at the end of a paragraph signifies that all
d635 3
a637 1
    This is a typical paragraph. A literal block follows::
d648 2
a649 5
When '::' is immediately preceded by whitespace, both colons will be
removed from the output. When text immediately precedes the '::',
*one* colon will be removed from the output, leaving only one (i.e.,
'::' will be replaced by ':'). When '::' is alone on a line, it will
be completely removed from the output; no empty paragraph will remain.
d651 6
a656 1
In other words, these are all equivalent:
d658 6
a663 1
1. Minimized::
d665 1
a665 1
      Paragraph::
d669 1
a669 1
2. Partly expanded::
d675 1
a675 1
3. Fully expanded::
d677 1
a677 3
      Paragraph:

      ::
@


1.12
log
@  - Added VMS/DOS-style options to option lists.  - Added definition of empty comments.  - Changed interpreted text roles to ":role:" syntax.  - Added two escapes where needed.
@
text
@d6 2
a7 2
:Revision: $Revision: 1.11 $
:Date: $Date: 2001/08/17 02:16:21 $
d249 10
@


1.11
log
@Lots of changes:  - Added option lists & doctest blocks from pyextensions.txt.  - Completed auto-numbered footnotes definition.  - Updated field list syntax definition.  - Removed leading underscores from footnote definition; added    implicit hyperlink generation.  - Added 'abstract' to list of bibliographic elements.  - Clarified handling of duplicate explicit hyperlink target names    with identical URIs.  - Moved interpreted text's role outside of backquotes.
@
text
@d5 3
a7 3
:Contact: dgoodger@@bigfoot.com
:Revision: $Revision: 1.9 $
:Date: $Date: 2001/08/15 03:01:55 $
d567 1
a567 1
long_option, option_argument, description.
d570 11
a580 10
descriptions. There are two types of options: short and long. Short
options consist of one dash or slash and an option letter. Long
options consist of two dashes and an option word. Both short and long
options may be followed by a single space and an argument placeholder.
Multiple command-line options may be listed, separated by comma-space.
There must be at least two spaces between the option(s) and the
description. The description may contain multiple body elements. As
with other types of lists, blank lines are required before the first
option list item and after the last, but are optional between option
entries. For example::
d1033 1
a1033 1
Arbitrary text may follow the explicit markup start and will be
d1040 6
d1159 3
a1161 3
role of the interpreted text may also be indicated explicitly, using
either a prefix (role + colon) or a suffix (colon + role) to the
interpreted text, depending on which reads better::
d1163 1
a1163 1
    role:`interpreted text`
d1165 1
a1165 1
    `interpreted text`:role
d1167 2
a1168 1
A role name is a single word consisting of alphanumerics plus internal
d1255 1
a1255 1
- Start-string = '`', end-string: = '`_'. (Phrase links.)
d1279 1
a1279 1
- Start-string = '`', end-string: = '`_'.
@


1.10
log
@  - Clarified enumerated lists (Roman numerals & alphabet letters).  - Settled on field list syntax.
@
text
@d57 1
a57 1
- Three types of lists:
d82 22
d122 7
d141 1
a141 1
      .. _[1] A footnote contains indented body elements.
d143 1
a143 1
          It is a form of hyperlink target.
d174 15
a188 15
    +------------------------------------------------------------------+
    | document                                                         |
    |                           +--------------------------------------+
    | [root element]            |                           +-------+  |
    |                           | sections  [begin with one | title |] |
    |                           |                           +-------+  |
    |---------------------------+-------------------------+------------|
    | [body elements:]                                    | (sections) |
    |         |         | - lists  |       | - hyperlink  +------------+
    |         |         | - tables |       |   targets    |
    | para-   | literal | - block  | foot- | - directives |
    | graphs  | blocks  |   quotes | notes | - comments   |
    +---------+---------+----------+-------+--------------+
    | [text]+ | [text]  | (body elements)  | [text]       |
    | (inline +---------+------------------+--------------+
d268 1
a268 1
.. _[1] The following are all valid section header underline/overline
d461 1
a461 1
Syntax diagram::
d477 4
a480 4
elements. Blank lines are required before the term and after the
definition, but there may be no blank line between a term and a
definition (this distinguishes definition lists from `block quotes`_).
::
d509 17
a525 3
names are case-insensitive. The field name is preceded by a single
colon, and followed by a single colon and whitespace; this is followed
by the field body. The field body may contain multiple body elements.
d529 1
a529 1
untransformed fields remain as a generic field list.
d536 2
a537 1
of the 'document' element. No ordering is imposed on these fields:
d549 1
d554 48
d700 30
d790 3
a792 3
Footnotes consist of an explicit markup start ('.. '), an underscore,
a left square bracket, the footnote label, a right square bracket, and
whitespace, followed by body elements. Footnote labels can be:
d800 1
a800 1
- a '#' followed by a simple hyperlink name.
d810 1
a810 1
    .. _[GVR2001] Python Documentation; van Rossum, Drake, et al.;
d813 6
d822 1
a822 1
    | '.. ' | '_[' label ']' footnote |
d831 43
a873 1
XXX
d946 3
a948 3
Implicit hyperlink targets are generated by section titles, and may
also be generated by extension constructs. Implicit hyperlink targets
behave identically to explicit `hyperlink targets`_.
d964 3
a966 2
3. If there are duplicate explicit hyperlink target names, all
   duplicates are removed, and level-1 system warnings inserted.
d1147 16
a1162 15
identifiers, as in the `Python Extensions to reStructuredText`_), for
cross-reference interpretation (such as index entries), or for other
applications where context can be inferred.

The role of the interpreted text may be inferred implicitly. The role
of the interpreted text may also be indicated explicitly, using either
a prefix (role + colon + space) or a suffix (space + colon + role),
depending on which reads better::

    `role: interpreted text`

    `interpreted text :role`

A role name may contain arbitrary text, except colons. Interpreted
text may contain at most one colon in a role-indicating context.
d1209 2
a1210 2
characters are allowed. Footnote labels must be simple hyperlink
names.
d1294 11
a1304 4
trailing underscore. Footnote labels are simple `hyperlink names`_
(case-insensitive single words, consisting of alphanumerics plus
internal hyphens, underscores, and periods; no whitespace). For
example::
d1367 2
a1368 2
.. _[URI] Uniform Resource Identifier. URIs are a general form of URLs
    (Uniform Resource Locators). For the syntax of URIs see RFC2396_.
d1386 2
a1387 2
.. _Python Extensions to reStructuredText:
    http://structuredtext.sourceforge.net/spec/pyextensions.txt
@


1.9
log
@  - Started on auto-numbered footnotes.  - Updated directives.  - Added a note on inline markup & escapes.
@
text
@d4 4
a7 4
Author: David Goodger
Contact: dgoodger@@bigfoot.com
Revision: $Revision: 1.8 $
Date: $Date: 2001/08/11 23:20:05 $
d397 2
a398 2
- uppercase Roman numerals: I, II, III, IV, ... (no upper limit).
- lowercase Roman numerals: i, ii, iii, iv, ... (no upper limit).
d410 2
a411 2
2. The enumerators are not in sequence (i.e., '1.', '3.' is not
   allowed).
d417 7
d429 1
a429 1
       a) item 1a.
a476 2
    Syntax under construction. Comments and suggestions welcome.

d480 3
a482 15
names are case-insensitive. A single colon and whitespace follows the
field name, and this is followed by the field body. The field body may
contain multiple body elements.

    Why is RFC822 compliance important? It's a universal Internet
    standard, and super obvious. Also, I'd like to support the PEP
    format (ulterior motive: get PEPs to use reStructuredText as their
    standard). But it *would* be easy to get used to an alternative
    (easy even to convert PEPs; probably harder to convert
    python-deviants ;-).

    Unfortunately, without well-defined context (such as in email
    headers: RFC822 applies before any blank lines only), the RFC822
    format is very common in ordinary text. To implement field lists
    unambiguously, we need explicit syntax.
d486 1
a486 38
untransformed fields remain in the field list as the document's first
body element.

The syntax for field lists has not been finalized. Syntax
alternatives:

1. Unadorned RFC822_ everywhere::

       Author: Me
       Version: 1

   Advantages: clean, precedent (RFC822-compliant). Disadvantage:
   ambiguous (these paragraphs are a prime example).

   Conclusion: rejected.

2. Special case: use unadorned RFC822_ for the very first or very last
   text block of a document::

       """
       Author: Me
       Version: 1

       The rest of the document...
       """

   Advantages: clean, precedent (RFC822-compliant). Disadvantages:
   special case, flat (unnested) field lists only, still ambiguous::

       """
       Usage: cmdname [options] arg1 arg2 ...

       We obviously *don't* want the like above to be interpreted as a
       field list item. Or do we?
       """

   Conclusion: rejected for the general case, still possible for
   particular contexts (PEPs, email).
d488 6
a493 47
3. Use a directive::

       .. fields::

          Author: Me
          Version: 1

   Advantages: explicit and unambiguous, RFC822-compliant.
   Disadvantage: cumbersome.

4. Use Javadoc-style::

       @@Author: Me
       @@Version: 1
       @@param a: integer

   Advantages: unambiguous, precedent, flexible. Disadvantages:
   non-intuitive, ugly, not RFC822-compliant.

5. Use leading colons::

       :Author: Me
       :Version: 1

   Advantages: unambiguous, obvious (*almost* RFC822-compliant),
   flexible, perhaps even elegant. Disadvantage: no precedent, not
   quite RFC822-compliant.

6. Use double colons::

       Author:: Me
       Version:: 1

   Advantages: unambiguous, obvious? (*almost* RFC822-compliant),
   flexible, similar to syntax already used for literal blocks and
   directives. Disadvantage: no precedent, not quite RFC822-compliant,
   similar to syntax already used for literal blocks and directives.

One special context is defined for field lists [2]_. A field list as
the very first non-comment block, or the second non-comment block
immediately after a title, is interpreted as document bibliographic
data. No special syntax is required, just unadorned RFC822_ [3]_. The
first block ends with a blank line, therefore field bodies must be
single paragraphs only and there may be no blank lines between fields.
The following field names are recognized and transformed to the
corresponding DTD elements listed, child elements of the 'document'
element. No ordering is imposed on these fields:
a507 10

.. _[2] Should "bibliographic field lists" be defined at the parser
   level, or at the DPS transformation level? In other words, are they
   reStructuredText-specific, or would they also be applicable to
   another (many/every other?) syntax?

.. _[3] Note that this "no special syntax required" provision is being
   reconsidered. An unambiguous syntax would also remove the
   requirement for a bibliographic field list to end with a blank
   line.
@


1.8
log
@  - Amended pros & cons for field list syntax alternative #6.
@
text
@d6 2
a7 2
Revision: $Revision: 1.7 $
Date: $Date: 2001/08/11 02:10:07 $
d762 12
a773 5
Footnotes consist of an explicit markup start ('.. '), an underscore, a
left square bracket, the footnote label, a right square bracket, and
whitespace, followed by body elements. Footnote labels are simple
`hyperlink names`_ (case-insensitive single words consisting of
alphanumerics plus hyphens, underscores, and periods; no whitespace).
d794 6
d926 2
a927 1
Directives can be used as an extension mechanism for reStructuredText.
d1017 10
@


1.7
log
@  - Added field list syntax alternative #6.  - Clarified definition of underlines/overlines.  - Expanded definition of standalone URIs.
@
text
@d6 2
a7 2
Revision: $Revision: 1.6 $
Date: $Date: 2001/08/06 04:49:18 $
d566 3
a568 3
   flexible, syntax already used for directives. Disadvantage: no
   precedent, not quite RFC822-compliant, syntax already used for
   directives.
@


1.6
log
@expanded treatment of whitespace, for document and table cells;added enum. lists syntax diagram;added Hyperlink Names section;moved Standalone Hyperlinks section;small edits & corrections
@
text
@d6 2
a7 2
Revision: $Revision: 1.5 $
Date: $Date: 2001/08/04 15:23:48 $
d193 2
a194 3
Although spaces are recommended for indentation, tabs may also be
used. Tabs will be converted to spaces. Tab stops are at every 8th
column.
d229 19
a247 6
matching 'overlines' above the title. An underline/overline is a line
of non-alphanumeric characters that begins in column 1 and extends at
least as far as the right edge of the title text. An
underline/overline must be at least 3 characters long. When an
overline is used, the length and character used must match the
underline. There may be any number of levels of section titles.
d529 2
a530 2
   Conclusion: was accepted (although not yet implemented; see below);
   currently reconsidering.
d556 1
a556 1
   Advantages: unambiguous, obvious? (*almost* RFC822-compliant),
d560 11
a570 1
One special context is defined for field lists [1]_. A field list as
d573 1
a573 1
data. No special syntax is required, just unadorned RFC822_ [2]_. The
d594 1
a594 1
.. _[1] Should "bibliographic field lists" be defined at the parser
d599 1
a599 1
.. _[2] Note that this "no special syntax required" provision is being
d742 2
a743 1
- whose first line begins with '.. ' (the 'explicit markup start'),
d762 8
a769 7
Footnotes consist of an explicit markup start ('.. '), an underscore,
a left square bracket, the footnote label, a right square bracket,
and whitespace, followed by body elements. Footnote labels are simple `hyperlink names`_ (case-insensitive single words consisting of alphanumerics plus hyphens,
underscores, and periods; no whitespace). If the first body element
within a footnote is a simple paragraph, it may begin on the same line
as the footnote label. Other elements must begin on a new line,
consistently indented and left-aligned.
d1209 3
a1211 3
An absolute URI [URI]_ within a text block is treated as a general
external hyperlink with the URI itself as the link's text. For
example::
d1222 31
a1252 2
- absolute URIs beginning with a scheme ('http:', 'ftp:', 'mailto:',
  'telnet:', etc.), and
d1254 1
a1254 1
- standalone email addresses ('user@@host').
d1256 1
a1256 2
Standalone email addresses are treated as if they had a 'mailto:'
prefix.
@


1.5
log
@loosened enum list requirements; sf->sourceforge
@
text
@d6 2
a7 2
Revision: $Revision: 1.3 $
Date: $Date: 2001/07/29 16:09:11 $
d55 1
a55 1
      Paragraphs are separated by blank lines and are flush left.
d85 1
a85 1
      ('::') at the end of the preceeding paragraph::
d172 8
a179 3
Blank lines are used to separate paragraphs and other elements. Blank
lines may be omitted when the markup makes element separation
unambiguous, in conjunction with indentation.
d288 1
a288 1
All section title styles need not be used, nor must any specific
d360 2
a361 2
      - This is a paragraph contination, not a sublist (no blank
        line).
d413 7
d604 2
a605 2
When '::' is immediately preceeded by whitespace, both colons will be
removed from the output. When text immediately preceeds the '::',
d654 1
a654 1
A text block that is indented relative to the preceeding text, without
d692 3
a694 1
Each cell contains zero or more body elements. Example::
d711 1
a711 1
preceeding text blocks; otherwise, the table is considered to be part
d740 2
a741 3
an left square bracket, the footnote label, a right square bracket,
and whitespace, followed by body elements. Footnote labels are
case-insensitive single words (alphanumerics plus hyphens,
d745 1
a745 1
left-aligned with the underscore.
d775 1
a775 1
`Indirect Hyperlinks`_ for examples.
d950 3
a952 2
1. Inline markup start-strings must be immediately preceeded by
   whitespace, single or double quotes, '(', '[', '{', or '<'.
d957 1
a957 1
3. Inline markup end-strings must be immediately preceeded by
d960 3
a962 3
4. Inline markup end-strings must be immediately followed by
   whitespace, single or double quotes, '.', ',', ':', ';', '!', '?',
   '-', ')', ']', '}', or '>'.
d964 1
a964 1
5. If an inline markup start-string is immediately preceeded by a
d972 1
a972 1
7. An unescaped backslash preceeding a start-string or end-string will
d1078 14
a1091 2
Standalone Hyperlinks
`````````````````````
d1093 1
a1093 1
DTD element: link.
d1095 1
a1095 1
Start-string = end-string = '' (empty string).
d1097 2
a1098 3
An absolute URI [URI]_ within a text block is treated as a general
external hyperlink with the URI itself as the link's text. For
example::
d1100 3
a1102 1
    See http://www.python.org for info.
d1104 2
a1105 1
would be marked up in HTML as::
d1107 1
a1107 2
    See <A HREF="http://www.python.org">http://www.python.org</A> for
    info.
d1109 4
a1112 2
.. _[URI] Uniform Resource Identifier. URIs are a general form of URLs
   (Uniform Resource Locators). For the syntax of URIs see RFC2396_.
d1128 2
a1129 6
Simple hyperlink names are single words consisting of alphanumerics
plus internal hypens, underscores, and periods; no whitespace or other
characters are allowed.

Somewhere else in the document is a target link containing a URI (see
`Hyperlink Targets`_ for a full description)::
d1133 1
a1133 1
After processing into HTML, this should be expressed as::
a1137 18
Hyperlink names using punctuation or whose names are phrases (two or
more space-separated words) are called 'phrase-links'. Phrase-links
can be expressed by enclosing the phrase in backquotes and treating
the backquoted text as a link name::

    Want to learn about `my favorite programming language`_?

    .. _my favorite programming language: http://www.python.org

Hyperlink names are whitespace-neutral and case-insensitive. When
resolving hyperlink names internally, whitespace and case are
normalized. For example, the following hyperlinks are equivalent::

    - `A HYPERLINK`_
    - `a    hyperlink`_
    - `A
      Hyperlink`_

d1168 4
a1171 3
trailing underscore. Footnote labels are case-insensitive single words
(alphanumerics plus internal hyphens, underscores, and periods; no
whitespace). For example::
d1176 32
@


1.4
log
@updated field lists, comments, indent/dedent
@
text
@d114 1
a114 1
         It is a form of hyperlink target.
d389 1
a389 1
For an enumerated list to be recognized, the following must hold true:
d391 3
a393 3
1. The list must consist of multiple adjacent list items (2 or more).
2. The enumerators must all have the same format and sequence type.
3. The enumerators must be in sequence (i.e., '1.', '3.' is not
d1178 3
a1180 2
.. _reStructuredText: http://structuredtext.sf.net
.. _Python Docstring Processing System: http://docstring.sf.net
d1182 1
a1182 1
.. _gpdi.dtd: http://docstring.sf.net/spec/gpdi.dtd
d1186 2
a1187 2
   http://structuredtext.sf.net/spec/pyextensions.txt
.. _PEP 258: http://docstring.sf.net/spec/pep-0258.txt
@


1.3
log
@typos; added '<' & '>' for inline markup pre/suffixes
@
text
@d6 2
a7 2
Revision: $Revision: 1.2 $
Date: $Date: 2001/07/29 16:00:31 $
d23 4
d31 3
a33 1
`Literal blocks`_ are used for examples throughout this document.
d174 1
a174 1
unambiguous.
d184 4
d446 1
a446 1
.. XXX Syntax under construction. Comments and suggestions welcome.
d455 12
d480 2
a481 2
   Advantages: clean, precedent. Disadvantage: ambiguous (these
   paragraphs are a prime example).
d486 1
a486 1
   text block of a docstring::
d492 1
a492 1
       The rest of the docstring...
d495 2
a496 2
   Advantages: clean, precedent. Disadvantages: special case, flat
   (unnested) field lists only.
d498 9
a506 1
   Conclusion: accepted, see below.
d515 2
a516 1
   Advantages: explicit and unambiguous. Disadvantage: cumbersome.
d525 6
a530 1
   non-intuitive, ugly.
d532 6
a537 2
One special context is defined for field lists. A field list as the
very first non-comment block, or the second non-comment block
d539 4
a542 4
data. No special syntax is required, just unadorned RFC822_. The first
block ends with a blank line, therefore field bodies must be single
paragraphs only and there may be no blank lines between fields. The
following field names are recognized and transformed to the
d560 10
d905 5
a909 4
processed as a comment element. Depending on the output formatter,
comments may be removed from the processed output. The only
restriction on comments is that they not use the same syntax as
directives, footnotes, or hyperlink targets.
@


1.2
log
@modified inline markup prefix & suffix definitions
@
text
@d6 2
a7 2
Revision: $Revision: 1.1.1.1 $
Date: $Date: 2001/07/21 22:14:24 $
d887 1
a887 1
   whitespace o single or double quotes, '(', '[', or '{'.
d897 1
a897 1
   '-', ')', ']', or '}'.
@


1.1
log
@Initial revision
@
text
@d6 2
a7 2
Revision: $Revision: 1.41 $
Date: $Date: 2001/07/20 01:21:53 $
d887 1
a887 2
   whitespace and zero or more of single or double quotes, '(', '[',
   or '{'.
d895 3
a897 3
4. Inline markup end-strings must be immediately followed by zero or
   more of single or double quotes, '.', ',', ':', ';', '!', '?', '-',
   ')', ']', or '}', followed by whitespace.
d907 3
a909 3
7. Except for the end-string of `inline literals`_, an unescaped
   backslash preceeding a start-string or end-string will disable
   markup recognition. See `escaping mechanism`_ above for details.
@


1.1.1.1
log
@initial checkin
@
text
@@
